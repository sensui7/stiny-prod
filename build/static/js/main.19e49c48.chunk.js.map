{"version":3,"sources":["MenuBar.js","EditPhoto.js","ViewPicture.js","PhotoCarousel.js","AddAlbum.js","DisplayAlbum.js","DeleteAlbum.js","NavBar.js","Home.js","UploadRecipePhoto.js","Cooking.js","BulkView.js","AddPhotosBulk.js","EditRecipePhoto.js","EditRecipe.js","ViewRecipe.js","App.js","serviceWorker.js","index.js","images/3.jpg","images/food.jpg","images/1.jpg","images/2.jpg","images/4.jpg","images/5.jpg","images/default.png","images/office.jpg"],"names":["MenuBar","handleClick","event","props","menuBarCallBack","target","text","elem","document","querySelector","M","Tabs","init","this","photosRef","React","createRef","className","onClick","href","ref","Component","EditPhoto","handleSubmit","a","newDate","editDateRef","current","value","newCaption","editCaptionRef","request","albumName","idtoken","link","date","caption","editProcedure","handleOnEdit","axios","post","then","resolve","error","console","log","prevProps","prevState","snapshot","id","style","display","closeModal","placeholder","type","htmlFor","options","coverTrigger","navigateStyle","cursor","ViewPicture","state","editPhotoModal","close","handleEdit","getElementById","modal","Modal","setState","open","handleDelete","undefined","album","DEFAULT_ALBUM","picture","token","response","deleteCallBack","handleBackward","e","key","handleNavigate","handleForward","myRef","scrollTo","elems","querySelectorAll","Dropdown","width","maxHeight","backgroundColor","position","data-target","alt","height","src","carouselOptions","duration","dist","numVisible","modalOptions","opacity","captions","pushDefault","arr","push","defaultArr","five","one","two","three","four","currIndex","PhotoCarousel","t","pic","attributes","viewRef","findPhoto","body","documentElement","overflow","setAlbum","setAlbumCallBack","data","photos","length","photo","i","defPhotos","numPhotos","Carousel","carousel","onCloseStart","elem2","onKeyDown","marginTop","marginBottom","map","item","data-caption","data-date","AddAlbum","helperStatus","createAlbumRef","email","classList","contains","remove","callUpdate","updateList","toggle","catch","handleKeyDown","paddingTop","data-error","data-success","buttonStyle","textTransform","background","DisplayAlbum","handleSetAlbum","albums","dropdownOptions","DeleteAlbum","deleteAlbumRef","NavBar","closeModals","addAlbumModal","deleteModal","displayModal","handleClickAddAlbum","handleClickAddPhoto","addPhotoModal","get","params","handleBulk","triggerBulk","handleDeleteAlbum","handleDisplayAlbum","onSuccess","googleUser","getBasicProfile","profile","getImageUrl","name","getName","getEmail","isLoggedIn","profilePicture","getAuthResponse","id_token","displayAlbumRef","addPhotosBulkRef","getAuth","albumsForDisplay","onFailure","logout","logo","add","removeAuthCallBack","updateListCallBack","elem3","modal2","elem4","modal3","elem5","modal4","Sidenav","handleHome","fontSize","color","office","disabled","clientId","process","buttonText","cookiePolicy","isSignedIn","onLogoutSuccess","Home","preview","footerStyle","bottom","UploadRecipePhoto","handleUpload","pasteRef","handlePaste","uploadRef","populateFile","dataRef","files","action","onChange","accept","initial","sessionStorage","getItem","headersConfig","Cooking","handleViewRecipe","triggerViewRecipe","handleEditorChange","content","getContent","setItem","isValidUrl","string","URL","_","recipeName","recipeNameRef","addRecipeMessage","formData","FormData","append","file","tag","headers","recipes","err","status","handleKeydown","handleAddPreview","handleType","values","filter","o","selected","handleFilter","filterType","recipePictureRef","editorRef","submitRef","forEach","Collapsible","dropdowns","select","FormSelect","recipesToRender","recipe","includes","createObjectURL","food","initialValue","apiKey","contextmenu","browser_spellcheck","selector","plugins","toolbar","paste_enable_default_filters","paste_word_valid_elements","multiple","defaultValue","float","marginleft","triggerEdit","BulkView","onDrop","pictures","concat","uploaderKey","handleRemove","getElementsByClassName","sendData","withIcon","imgExtension","maxFileSize","index","maxWidth","AddPhotosBulk","handleSelect","selectedAlbum","message","loading","bodyFormData","dates","albumsList","size","EditRecipePhoto","handleClose","EditRecipe","selectRef","editor","newNameRef","recipeTag","recipeEditCallback","labelRef","tabIndex","scrollTop","tags","split","recipeToEdit","waves","ViewRecipe","recipeModalRef","dangerouslySetInnerHTML","__html","recipeData","verticalAlign","SEARCH_FLAGS","Tab","TabNames","App","authCallBack","searchStatus","currAlbum","currentTab","menuRef","click","clearCallback","pageName","tab","editRef","onOpenEnd","removeAttribute","editModal","forceKey","viewRecipeName","viewRecipeData","viewRecipeKey","interval","setInterval","reloadAuthResponse","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.19e49c48.chunk.js","sourcesContent":["import React from 'react';\nimport M from \"materialize-css\";\n\nclass MenuBar extends React.Component {\n  componentDidMount() {\n\tlet elem = document.querySelector('.tabs');\n\tM.Tabs.init(elem);\n\n\tthis.photosRef = React.createRef();\n  }\n\n  handleClick = event => {\n\tthis.props.menuBarCallBack(event.target.text);\n  };\n\n  render() {\n\treturn (\n\t  <div className=\"row\">\n        <div className=\"col s12\">\n          <ul className=\"tabs\">\n        \t<li className=\"tab col s4\"><a onClick={this.handleClick} href=\"#cooking\">Cooking</a></li>\n            <li className=\"tab col s4\"><a className=\"active\" onClick={this.handleClick} href=\"#home\">Home</a></li>\n            <li className=\"tab col s4\"><a onClick={this.handleClick} href=\"#photos\" ref={this.photosRef} >Photos</a></li>\n          </ul>\n    \t</div>\n  \t  </div>\n\t);\n  }\n}\n\nexport default MenuBar;\n\n","import React from 'react';\nimport axios from \"axios\";\n\nclass EditPhoto extends React.Component {\n  constructor(props) {\n    super(props);\n\n\tthis.editCaptionRef = React.createRef();\n\tthis.editDateRef = React.createRef();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.editCaptionRef.current.value = this.props.caption;\n\tthis.editDateRef.current.value = this.props.date;\n  }\n\n  handleSubmit = async () => {\n\tconst newDate = this.editDateRef.current.value;\n\tconst newCaption = this.editCaptionRef.current.value;\n\n\tconst request = {\n      albumName: this.props.albumName,\n\t  idtoken: this.props.idtoken,\n\t  link: this.props.link,\n\t  date: newDate,\n\t  caption: newCaption\n\t};\n\n\tconst editProcedure = this.props.handleOnEdit;\n\n \tawait axios.post(\"/editPhoto\", request)\n\t\t.then(resolve => {\n\t\t  // Update the album list data\n\t\t  editProcedure(newDate, newCaption); \n\t\t}, error => {\n\t\t  console.log(error); \n\t\t});\n  };\n\n  render() {\n    return (\n\t  <div id=\"modal-edit-photo\" className=\"modal arg\">\n        <div className=\"modal-content\">\n          <a\n            href=\"#!\"\n            className=\"waves-effect\"\n            style={{ display: \"inline-block\" }}\n\t\t\tonClick={this.props.closeModal}\n          >\n            Close\n          </a>\n\n          <h4>Edit Photo Descriptions</h4>\n\t\t \n\t\t  <div className=\"row\">\n            <div className=\"input-field col s12\">\n              <input ref={this.editCaptionRef} placeholder=\"Trip to the beach!\" id=\"edit-caption\" type=\"text\"/>\n              <label htmlFor=\"edit-caption\" className=\"active\">Caption</label>\n            </div>\n          </div>\n\n\t\t  <div className=\"row\">\n            <div className=\"input-field col s12\">\n              <input ref={this.editDateRef} placeholder=\"12/08/2018\" id=\"edit-date\" type=\"text\"/>\n              <label htmlFor=\"edit-date\" className=\"active\">Date</label>\n            </div>\n          </div>\n\n          <a\n            href=\"#!\"\n            onClick={this.handleSubmit}\n            className=\"waves-effect waves-light btn\"\n          >\n            <i className=\"material-icons left\">create</i>Submit\n          </a>\n\n        </div>\n      </div>  \n\t);\n  }\n}\n\nexport default EditPhoto;\n","import React from \"react\";\nimport axios from \"axios\";\nimport { DEFAULT_ALBUM } from \"./App.js\";\nimport M from \"materialize-css\";\nimport EditPhoto from \"./EditPhoto.js\";\n\nconst options = {\n  coverTrigger: false,\n};\n\nconst navigateStyle = {\n  cursor: \"pointer\"\n};\n\nclass ViewPicture extends React.Component {\n  constructor(props) {\n    super(props);\n\tthis.state = {\n\t  picture: \"\",\n\t  caption: \"\",\n \t  date: \"\",\n\t  editPhotoModal: null\n\t};\n\n    this.myRef = React.createRef();\n  }\n\n  closeModal = () => {\n\tthis.state.editPhotoModal.close();\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\tif (this.state.caption === undefined && this.state.date === undefined) {\n\t  this.setState({\n\t    caption: prevState.caption,\n\t\tdate: prevState.date\n\t  });\n\t}\n\n    this.myRef.current.scrollTo(0, 0);\n    let elems = document.querySelectorAll(\".delete-pic\");\n    M.Dropdown.init(elems, options);\n  }\n\n  componentDidMount() {\n    let elems = document.querySelectorAll(\".delete-pic\");\n    M.Dropdown.init(elems, options);\n  }\n\n  handleEdit = async () => {\n    const elem = document.getElementById(\"modal-edit-photo\");\n    const modal = M.Modal.init(elem);\n\n\tthis.setState({\n\t  editPhotoModal: modal\n\t});\n\n\tmodal.open();\n  };\n\n  handleDelete = () => {\n    if (this.props.album !== undefined && this.props.album !== DEFAULT_ALBUM) {\n      const request = {\n        albumName: this.props.album,\n        link: this.state.picture,\n        idtoken: this.props.token,\n      };\n\n\t  //console.log(request);\n\n      axios.post(\"/deletePhoto\", request).then(\n        (response) => {\n          //console.log(\"response: \" );\n          //console.log(response);\n          this.props.deleteCallBack();\n        },\n        (error) => {\n          //console.log(\"error\");\n          console.log(error);\n          // TODO\n        }\n      );\n    }\n  };\n\n  handleOnEdit = async (newDate, newCaption) => {\n    // Load albums when a photo was updated\n\t// This goes to PhotoCarousel and then to App, which updates the photos for the album\n\n\tawait this.state.editPhotoModal.close();\n\tthis.props.handleOnEdit(newDate, newCaption);\n  }\n\n  handleBackward = e => {\n\te.key = \"ArrowLeft\";\n    this.props.handleNavigate(e);\n  };\n\n  handleForward = e => {\n\te.key = \"ArrowRight\";\n    this.props.handleNavigate(e);\n  };\n\n  render() {\n    return (\n      <div\n        ref={this.myRef}\n        id=\"modal1\"\n        className=\"modal\"\n        style={{\n          width: \"100%\",\n          maxHeight: \"100%\",\n          backgroundColor: \"rgba(255, 255, 255, 0.90)\",\n          position: \"fixed\",\n        }}\n      >\n        <EditPhoto \n\t\t  closeModal={this.closeModal} \n\t\t  idtoken={this.props.token}\n\t\t  caption={this.state.caption} \n\t\t  date={this.state.date} \n\t\t  link={this.state.picture}\n\t\t  albumName={this.props.album}\n\t\t  handleOnEdit={this.handleOnEdit}\n\t\t  />\n        <div className=\"modal-content\" style={{}}>\n          <div className=\"row\">\n            {this.props.album !== DEFAULT_ALBUM ? (\n              <div>\n                <a\n\t\t\t\t  onClick={this.handleEdit} \n\t\t\t\t  href=\"#!\" \n\t\t\t\t  className=\"left waves-effect btn\"\n\t\t\t\t>\n                  Edit\n                </a>\n                <a\n                  className=\"dropdown-trigger btn left red delete-pic\"\n                  href=\"#!\"\n                  data-target=\"dropdown1\"\n                >\n                  Delete\n                </a>\n                <ul id=\"dropdown1\" className=\"dropdown-content\">\n                  <li>\n                    <a href=\"#!\" onClick={this.handleDelete}>\n                      Confirm\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            ) : null}\n            <a\n              href=\"#!\"\n              className=\"right modal-close waves-effect waves-green btn\"\n            >\n              Exit\n            </a>\n          </div>\n          <h4>{this.state.caption}</h4>\n          <p>{this.state.date}</p>\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col s6\">\n\t\t      <i onClick={this.handleBackward} className=\"material-icons waves-effect\" style={navigateStyle}>arrow_back</i>\n\t\t\t</div>\n\t\t    <div className=\"col s6\">\n\t\t      <i onClick={this.handleForward} className=\"material-icons waves-effect\" style={navigateStyle}>arrow_forward</i>\n\t\t\t</div>\n\t\t  </div>\n          <img\n            alt=\"preview\"\n            style={{ width: \"100%\", height: \"100%\" }}\n            src={this.state.picture}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ViewPicture;\n\n","import React from \"react\";\nimport one from \"./images/1.jpg\";\nimport two from \"./images/2.jpg\";\nimport three from \"./images/3.jpg\";\nimport four from \"./images/4.jpg\";\nimport five from \"./images/5.jpg\";\nimport ViewPicture from \"./ViewPicture.js\";\nimport M from \"materialize-css\";\nimport { DEFAULT_ALBUM } from './App.js';\n\nconst DEFAULT_LENGTH = 5;\n\nlet carouselOptions = {\n  duration: 200,\n  dist: -50,\n  numVisible: DEFAULT_LENGTH,\n};\n\nlet modalOptions = {\n  opacity: 0,\n};\n\nconst captions = [\n  \"Victorian Belle\",\n  \"Peacock Lane\",\n  \"Zoolights\",\n  \"Fire on the Mountain\",\n  \"Steven's House\",\n];\n\nconst date = [\"2018\", \"2018\", \"2018\", \"2019\", \"2020\"];\n\nconst pushDefault = (arr, picture, alt, caption, date) => {\n  arr.push({\n    picture: picture,\n    alt: alt,\n    caption: caption,\n    date: date,\n  });\n}\n\nlet defaultArr = [];\npushDefault(defaultArr, five, five, captions[4], date[4]);\npushDefault(defaultArr, one, one, captions[0], date[0]);\npushDefault(defaultArr, two, two, captions[1], date[1]);\npushDefault(defaultArr, three, three, captions[2], date[2]);\npushDefault(defaultArr, four, four, captions[3], date[3]);\n\nlet currIndex = 0;\n\nclass PhotoCarousel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      picture: one,\n      caption: \"\",\n      date: \"\",\n      modal: null,\n\t  defPhotos: defaultArr\n    };\n\n\tthis.viewRef = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props !== prevProps && this.props.photos.length !== 0) {\n      let elem = document.querySelector(\".carousel\");\n\t  const numPhotos = this.props.photos.length;\n      carouselOptions.numVisible = (numPhotos % 2 === 0) ? numPhotos - 1 : numPhotos;\n      M.Carousel.init(elem, carouselOptions);\n    }\n\n    if (this.props.photos.length === 0) {\n      let elem = document.querySelector(\".carousel\");\n      carouselOptions.numVisible = DEFAULT_LENGTH;\n      M.Carousel.init(elem, carouselOptions);\n    }\n  }\n\n  componentDidMount() {\n    let elem = document.querySelector(\".carousel\");\n    let carousel = M.Carousel.init(elem, carouselOptions);\n\n\tmodalOptions.onCloseStart = () => {\n\t  if (this.viewRef.current.state.editPhotoModal !== null) {\n\t    this.viewRef.current.state.editPhotoModal.close();\n\t  }\n\n\t  document.body.style.position = \"initial\";\n\t  document.documentElement.style.position = \"initial\";\n\t  document.documentElement.style.overflow = \"initial\";\n\t};\n\n    let elem2 = document.getElementById(\"modal1\");\n    let modal = M.Modal.init(elem2, modalOptions);\n    this.setState({ modal: modal, carousel: carousel});\n  }\n\n  handleClick = async (t) => {\n    const pic = t.target.attributes.alt.value;\n    const caption = t.target.attributes[0].value;\n    const date = t.target.attributes[1].value;\n\n\tawait this.viewRef.current.setState({\n\t  picture: pic,\n\t  date: date,\n\t  caption: caption\n\t});\n\n\tcurrIndex = this.findPhoto(pic);\n\n\tdocument.body.style.position = \"relative\";\n\tdocument.documentElement.style.position = \"relative\";\n\tdocument.documentElement.style.overflow = \"hidden\";\n\n    this.state.modal.open();\n  }\n\n  deleteCallBack = () => {\n\tthis.state.modal.close();\n\tthis.props.setAlbum(this.props.album);\n  }\n\n  handleOnEdit = async(date, caption) => {\n\tthis.viewRef.current.setState({\n\t  date: date,\n\t  caption: caption\n\t});\n\n\tthis.props.setAlbumCallBack(this.props.album);\n  };\n\n  handleNavigate = async(e) => {\n\tlet data = null;\n\n\tif (this.props.album === DEFAULT_ALBUM) {\n\t  data = defaultArr;\n\t} else {\n\t  data = this.props.photos;\n\t}\n\n\tif (e.key === \"ArrowRight\") {\n      currIndex = (currIndex + 1) % data.length;\n\n      const pic = data[currIndex].picture || data[currIndex].link;\n      const caption = data[currIndex].caption;\n      const date = data[currIndex].date;\n\n\n\t  await this.viewRef.current.setState({\n\t    picture: pic,\n\t    date: date,\n\t    caption: caption\n\t  });\n\t} else if (e.key === \"ArrowLeft\") {\n\t  \n      currIndex = (currIndex !== 0) ? (currIndex - 1) % data.length : data.length - 1;\n\n      const pic = data[currIndex].picture || data[currIndex].link;\n      const caption = data[currIndex].caption;\n      const date = data[currIndex].date;\n\n\t  await this.viewRef.current.setState({\n\t    picture: pic,\n\t    date: date,\n\t    caption: caption\n\t  });\n\t}\n  };\n\n  findPhoto = photo => {\n\tlet photos = null;\n\n\tif (this.props.album === DEFAULT_ALBUM) {\n\t  photos = defaultArr;\n\t} else {\n\t  photos = this.props.photos;\n\t}\n\t\n\tfor (let i = 0; i < photos.length; i += 1) {\n\t  if (photo === (photos[i].picture || photos[i].link)) {\n\t    return i;\n\t  }\n\t}\n\n\treturn -1;\n  };\n\n  render() {\n    return (\n      <div style={{ height: \"100%\" }} onKeyDown={this.handleNavigate}>\n        <ViewPicture\n          current={this.state.picture}\n          caption={this.state.caption}\n          date={this.state.date}\n\t\t  album={this.props.album}\n\t\t  deleteCallBack={this.deleteCallBack}\n\t\t  token={this.props.idtoken}\n\t\t  ref={this.viewRef}\n\t\t  handleOnEdit={this.handleOnEdit}\n\t\t  handleNavigate={this.handleNavigate}\n        />\n\t\t<div className=\"row\">\n\t\t<div className=\"col s12\">\n        <h2 style={{marginTop: \"5%\", marginBottom: \"5%\" }} >\n\t\t  {\n\t\t    (this.props.album === DEFAULT_ALBUM || this.props.album === undefined) ? \"Album Preview\" : this.props.album + \" Album\"\n\t\t  }\n\t\t</h2>\n\t\t</div>\n\t\t<div className=\"col s12\">\n        <div className=\"carousel\" style={{ height: \"600px\" }}>\n          {this.props.photos.map((item) => (\n            <a className=\"carousel-item\" href=\"#!\">\n              <img\n                data-caption={item.caption}\n                data-date={item.date}\n                alt={item.link}\n                src={item.link}\n                onClick={this.handleClick}\n              />\n            </a>\n          ))}\n          {(this.props.album === DEFAULT_ALBUM) ? defaultArr.map((item) => (\n            <a className=\"carousel-item\" href=\"#!\" key={item.picture}>\n              <img\n                data-caption={item.caption}\n                data-date={item.date}\n                alt={item.alt}\n                src={item.picture}\n                onClick={this.handleClick}\n              />\n            </a>\n          )) : null}\n\t\t</div>\n        </div>\n\t\t</div>\n      </div>\n    );\n  }\n}\n\nexport default PhotoCarousel;\n\n","import React from \"react\";\nimport axios from \"axios\";\n\nclass AddAlbum extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n    this.createAlbumRef = React.createRef();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.myRef.current.scrollTo(0, 0);\n  }\n\n  handleSubmit = () => {\n    const helperStatus = this.createAlbumRef.current;\n\n    let request = {\n      idtoken: this.props.token,\n      email: this.props.email,\n      albumName: this.createAlbumRef.current.value,\n    };\n\n    if (helperStatus.classList.contains(\"valid\")) {\n      helperStatus.classList.remove(\"valid\");\n    }\n\n    if (helperStatus.classList.contains(\"invalid\")) {\n      helperStatus.classList.remove(\"invalid\");\n    }\n\n\tconst callUpdate = this.props.updateList;\n\n    axios\n      .post(\"/createAlbum\", request)\n      .then(function (response) {\n        helperStatus.classList.toggle(\"valid\");\n\t\tcallUpdate();\n        console.log(response);\n      })\n      .catch(function (error) {\n        helperStatus.classList.toggle(\"invalid\");\n        console.log(error);\n      });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key !== \"Enter\") {\n      this.createAlbumRef.current.classList.remove(\"valid\");\n      this.createAlbumRef.current.classList.remove(\"invalid\");\n    } else {\n      this.handleSubmit();\n    }\n  };\n\n  render() {\n    return (\n      <div\n        ref={this.myRef}\n        id=\"modal2\"\n        className=\"modal\"\n        style={{\n          marginTop: \"30%\",\n          paddingTop: \"20%\",\n          backgroundColor: \"rgb(255, 255, 255, 0.95\",\n        }}\n      >\n        <div className=\"modal-content\" style={{width: \"100%\"}}>\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect\"\n            style={{ display: \"inline-block\" }}\n          >\n            Close\n          </a>\n          <h4>Add Album</h4>\n          <div className=\"row\">\n            <div className=\"input-field col s12\">\n              <input\n                ref={this.createAlbumRef}\n                id=\"albumName\"\n                type=\"text\"\n                placeholder=\"e.g. Memories\"\n                onKeyDown={this.handleKeyDown}\n              />\n              <label htmlFor=\"albumName\">Album Name</label>\n              <span\n                className=\"helper-text\"\n                data-error=\"Album exists / is invalid.\"\n                data-success=\"Album created!\"\n              ></span>\n            </div>\n          </div>\n          <a\n            href=\"#!\"\n            onClick={this.handleSubmit}\n            className=\"waves-effect waves-light btn\"\n          >\n            <i className=\"material-icons left\">cloud</i>Submit\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddAlbum;\n\n","import React from 'react';\n\nconst buttonStyle = {\n  width: \"100%\", \n  textTransform: \"none\", \n  background: \"#ee6e73\"\n};\n\nclass DisplayAlbum extends React.Component {\n  handleClick = (e, albumName) => {\n\tthis.props.handleSetAlbum(albumName);\n  };\n\n  render() {\n    return (\n\t  <div>\n\t    <div \n\t\t  id=\"display-albums\" \n\t\t  className=\"modal\"\n          style={{\n            marginTop: \"30%\",\n            paddingTop: \"20%\",\n            backgroundColor: \"rgb(255, 255, 255, 0.95\",\n          }}\n\t\t>\n          <div className=\"modal-content\" style={{width: \"100%\"}}>\n            <a\n              href=\"#!\"\n              className=\"modal-close waves-effect\"\n              style={{ display: \"inline-block\" }}\n            >\n            Close\n            </a>\n            <h4>Display Albums</h4>\n\t\t\t<div className=\"row\">\n\t\t\t  <a style={buttonStyle} onClick={e => this.handleClick(e, \"default\")} href=\"#!\" className=\"waves-effect btn\">Default</a>\n\t\t\t</div>\n\t\t\t{\n\t\t\t  this.props.albums !== undefined ?\n\t\t\t\t  this.props.albums.map(item => (\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t  <a style={buttonStyle} onClick={e => this.handleClick(e, item)} href=\"#!\" className=\"waves-effect btn\">{item}</a>\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t\t\t: null\n\t\t\t}\n          </div>\n        </div>\n\t  </div>\n\t);\n  }\n}\n\nexport default DisplayAlbum;\n","import M from \"materialize-css\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nconst dropdownOptions = {\n  coverTrigger: false\n};\n\nclass DeleteAlbum extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n    this.deleteAlbumRef = React.createRef();\n  }\n\n  componentDidMount() {\n\tconst elems = document.getElementById('delete-album');\n    M.Dropdown.init(elems, dropdownOptions);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.myRef.current.scrollTo(0, 0);\n  }\n\n  handleSubmit = () => {\n    const helperStatus = this.deleteAlbumRef.current;\n\n    let request = {\n      idtoken: this.props.token,\n      albumName: this.deleteAlbumRef.current.value\n    };\n\n    if (helperStatus.classList.contains(\"valid\")) {\n      helperStatus.classList.remove(\"valid\");\n    }\n\n    if (helperStatus.classList.contains(\"invalid\")) {\n      helperStatus.classList.remove(\"invalid\");\n    }\n\n\tconst callUpdate = this.props.updateList;\n\n    axios\n      .post(\"/deleteAlbum\", request)\n      .then(function (response) {\n        helperStatus.classList.toggle(\"valid\");\n\t\tcallUpdate();\n        console.log(response);\n      })\n      .catch(function (error) {\n        helperStatus.classList.toggle(\"invalid\");\n        console.log(error);\n      });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key !== \"Enter\") {\n      this.deleteAlbumRef.current.classList.remove(\"valid\");\n      this.deleteAlbumRef.current.classList.remove(\"invalid\");\n    } else {\n      this.handleSubmit();\n    }\n  };\n\n  render() {\n    return (\n      <div\n        ref={this.myRef}\n        id=\"delete-modal\"\n        className=\"modal\"\n        style={{\n          marginTop: \"30%\",\n          paddingTop: \"20%\",\n          backgroundColor: \"rgb(255, 255, 255, 0.95\",\n        }}\n      >\n        <div className=\"modal-content\" style={{width: \"100%\"}}>\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect\"\n            style={{ display: \"inline-block\" }}\n          >\n            Close\n          </a>\n          <h4>Delete Album</h4>\n          <div className=\"row\">\n            <div className=\"input-field col s12\">\n              <input\n                ref={this.deleteAlbumRef}\n                id=\"albumNameToDelete\"\n                type=\"text\"\n                placeholder=\"e.g. Memories\"\n                onKeyDown={this.handleKeyDown}\n              />\n              <label htmlFor=\"albumName\">Album Name</label>\n              <span\n                className=\"helper-text\"\n                data-error=\"Album does not exist.\"\n                data-success=\"Album was deleted.\"\n              ></span>\n            </div>\n          </div>\n          <a\n\t\t    id=\"delete-album\"\n            href=\"#!\"\n            className=\"dropdown-trigger waves-effect waves-light red btn\"\n\t\t\tdata-target=\"delete-dropdown\"\n          >\n            <i className=\"material-icons left\">delete</i>Submit\n          </a>\n\t\t  <ul id=\"delete-dropdown\" className=\"dropdown-content\">\n\t\t    <li><a href=\"#!\" onClick={this.handleSubmit} >Confirm Delete</a></li>\n\t\t  </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DeleteAlbum;\n\n","import React from \"react\";\nimport M from \"materialize-css\";\nimport GoogleLogin from \"react-google-login\";\nimport { GoogleLogout } from \"react-google-login\";\nimport AddAlbum from \"./AddAlbum.js\";\nimport DisplayAlbum from \"./DisplayAlbum.js\";\nimport DeleteAlbum from \"./DeleteAlbum.js\";\nimport logo from \"./images/default.png\";\nimport office from \"./images/office.jpg\";\nimport axios from \"axios\";\n\nconst modalOptions = {\n  opacity: 0,\n};\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: false,\n      profilePicture: logo,\n      name: \"\",\n      email: \"\",\n      addAlbumModal: null,\n      addPhotoModal: null,\n\t  deleteModal: null,\n\t  displayModal: null,\n      token: \"\",\n      albums: [],\n      albumsForDisplay: [],\n    };\n\n    this.createAlbumRef = React.createRef();\n    this.deleteAlbumRef = React.createRef();\n    this.displayAlbumRef = React.createRef();\n    //this.addPhotosRef = React.createRef();\n\tthis.addPhotosBulkRef = React.createRef();\n  }\n\n  closeModals = () => {\n    this.state.addAlbumModal.close();\n    this.state.deleteModal.close();\n\tthis.state.displayModal.close();\n  };\n\n  componentDidMount() {\n\t// Weird bug ?\n\tif (!this.state.isLoggedIn) {\n      this.displayAlbumRef.current.classList.add(\"disabled\");\n      this.deleteAlbumRef.current.classList.add(\"disabled\");\n      this.createAlbumRef.current.classList.add(\"disabled\");\n      //this.addPhotosRef.current.classList.add(\"disabled\");\n      this.addPhotosBulkRef.current.classList.add(\"disabled\");\n\t}\n\n    const elem2 = document.getElementById(\"modal2\");\n    const modal = M.Modal.init(elem2, modalOptions);\n\n    const elem3 = document.getElementById(\"modal3\");\n    const modal2 = M.Modal.init(elem3, modalOptions);\n\n\tconst elem4 = document.getElementById(\"display-albums\");\n\tconst modal3 = M.Modal.init(elem4, modalOptions);\n\n\tconst elem5 = document.getElementById(\"delete-modal\");\n\tconst modal4 = M.Modal.init(elem5, modalOptions);\n\n    //const elems = document.getElementById(\"display\");\n    //M.Dropdown.init(elems, dropdownOptions);\n\n    this.setState({\n      addAlbumModal: modal,\n      addPhotoModal: modal2,\n\t  displayModal: modal3,\n\t  deleteModal: modal4\n    });\n\n    const options = {\n      onCloseStart: this.closeModals,\n    };\n\n    const elem = document.querySelectorAll(\".sidenav\");\n    M.Sidenav.init(elem, options);\n  }\n\n  handleClickAddAlbum = () => {\n    this.state.addAlbumModal.open();\n  };\n\n  handleClickAddPhoto = () => {\n    this.state.addPhotoModal.open();\n\n    axios\n      .get(\"/albums\", {\n        params: { idtoken: this.state.token, email: this.state.email },\n      })\n      .then((resolve) => {\n        //console.log(resolve);\n        this.setState({ albums: resolve.data });\n      });\n  };\n\n  handleBulk = async () => {\n    await axios\n      .get(\"/albums\", {\n        params: { idtoken: this.state.token, email: this.state.email },\n      })\n      .then((resolve) => {\n        //this.setState({ albums: resolve.data });\n\t\tthis.props.triggerBulk(resolve.data);\n      });\n\n\t// Testing\n\t//const test = [\"Memories\", \"Default\"];\n\n\t//this.props.triggerBulk(test);\n  };\n\n  /* Old method for display\n  handleClickDisplayAlbum = (e, albumName) => {\n\tthis.state.displayModal.open();\t\n    //this.props.setAlbumCallBack(albumName);\n  };\n  */\n\n  handleDeleteAlbum = albumName => {\n    this.state.deleteModal.open();\n  };\n\n  handleSetAlbum = albumName => {\n\tthis.props.setAlbumCallBack(albumName);\n  };\n\n  handleDisplayAlbum = async () => {\n    await axios\n      .get(\"/albums\", {\n        params: { idtoken: this.state.token, email: this.state.email },\n      })\n      .then((resolve) => {\n        this.setState({ albums: resolve.data });\n      });\n\n\tthis.state.displayModal.open();\n  };\n\n  onSuccess = async (response) => {\n    const googleUser = response.getBasicProfile();\n    const profile = googleUser.getImageUrl();\n    const name = googleUser.getName();\n    const email = googleUser.getEmail();\n\n    this.setState({\n      isLoggedIn: !this.state.isLoggedIn,\n      profilePicture: profile,\n      name: name,\n      email: email,\n      token: response.getAuthResponse().id_token,\n    });\n\n    this.createAlbumRef.current.classList.remove(\"disabled\");\n    this.deleteAlbumRef.current.classList.remove(\"disabled\");\n    this.displayAlbumRef.current.classList.remove(\"disabled\");\n    //this.addPhotosRef.current.classList.remove(\"disabled\");\n    this.addPhotosBulkRef.current.classList.remove(\"disabled\");\n\n\t// Returns auth information to App\n    this.props.getAuth({\n      idtoken: this.state.token,\n      email: this.state.email,\n\t  googleUser: response\n    });\n\n    // Load albums once user is authenticated\n    await axios\n      .get(\"/albums\", {\n        params: { idtoken: this.state.token, email: this.state.email },\n      })\n      .then((resolve) => {\n        this.setState({ albumsForDisplay: resolve.data });\n      });\n  };\n\n  onFailure = (response) => {\n    console.log(response);\n  };\n\n  logout = () => {\n    this.setState({\n      isLoggedIn: !this.state.isLoggedIn,\n      profilePicture: logo,\n      name: \"\",\n      email: \"\",\n    });\n\n\tthis.props.getAuth({\n\t  idtoken: \"\",\n\t  email: \"\",\n\t  googleUser: null\n\t});\n\n    this.createAlbumRef.current.classList.add(\"disabled\");\n    this.deleteAlbumRef.current.classList.add(\"disabled\");\n    this.displayAlbumRef.current.classList.add(\"disabled\");\n    //this.addPhotosRef.current.classList.add(\"disabled\");\n    this.addPhotosBulkRef.current.classList.add(\"disabled\");\n    this.props.removeAuthCallBack();\n  };\n\n  updateListCallBack = () => {\n    // Load albums if updated list of albums\n    axios\n      .get(\"/albums\", {\n        params: { idtoken: this.state.token, email: this.state.email },\n      })\n      .then((resolve) => {\n        this.setState({ albumsForDisplay: resolve.data });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <nav className=\"nav-extended\">\n          <div className=\"nav-wrapper\">\n            <a\n              href=\"#!\"\n              className=\"logo paris\"\n              onClick={this.handleHome}\n              style={{ cursor: \"pointer\" }}\n            >\n              Stiny\n            </a>\n            <a\n              href=\"#!\"\n              data-target=\"slide-out\"\n              className=\"sidenav-trigger left waves-effect\"\n            >\n              <i\n                style={{ fontSize: \"300%\", color: \"black\" }}\n                className=\"material-icons\"\n              >\n                menu\n              </i>\n            </a>\n          </div>\n        </nav>\n        <ul id=\"slide-out\" className=\"sidenav\">\n          <li>\n            <div className=\"user-view\">\n              <div className=\"background\">\n                <img alt=\"office-background\" src={office} />\n              </div>\n              <a href=\"#user\">\n                <img\n                  alt=\"profile\"\n                  className=\"circle\"\n                  src={this.state.profilePicture}\n                />\n              </a>\n              <a href=\"#name\">\n                <span className=\"white-text name\">{this.state.name}</span>\n              </a>\n              <a href=\"#email\">\n                <span className=\"white-text email\">{this.state.email}</span>\n              </a>\n            </div>\n          </li>\n          <li>\n            <a\n              ref={this.createAlbumRef}\n              className=\"waves-effect\"\n              href=\"#!\"\n              disabled={!this.state.isLoggedIn}\n              onClick={this.handleClickAddAlbum}\n            >\n              <i className=\"material-icons\">book</i>Create Album\n            </a>\n            <AddAlbum\n              token={this.state.token}\n              email={this.state.email}\n              updateList={this.updateListCallBack}\n            />\n          </li>\n\t\t  <li>\n            <a\n\t\t\t  onClick={this.handleDeleteAlbum}\n              ref={this.deleteAlbumRef}\n              className=\"waves-effect\"\n              href=\"#!\"\n            >\n              <i className=\"material-icons\">delete</i>Delete Album\n            </a>\n\t\t\t<DeleteAlbum \n              token={this.state.token}\n              updateList={this.updateListCallBack}\n\t\t\t/>\n          </li>\n          <li>\n            <a\n              ref={this.displayAlbumRef}\n\t\t\t  onClick={this.handleDisplayAlbum}\n              className=\"dropdown-trigger waves-effect\"\n              data-target=\"dropdownDisplay\"\n\t\t\t  id=\"display\"\n              href=\"#!\"\n              disabled={!this.state.isLoggedIn}\n            >\n              <i className=\"material-icons\">tv</i>Display Album\n            </a>\n\t\t\t<DisplayAlbum\n\t\t\t  token={this.state.token}\n\t\t\t  albums={this.state.albums}\n\t\t\t  handleSetAlbum={this.handleSetAlbum}\n\t\t\t/>\n          </li>\n          <li>\n            <a\n\t\t\t  ref={this.addPhotosBulkRef}\n              className=\"waves-effect\"\n              href=\"#!\"\n              onClick={this.handleBulk}\n            >\n              <i className=\"material-icons\">insert_photo</i>Add Photos\n            </a>\n          </li>\n          <li>\n            <div className=\"divider\"></div>\n          </li>\n          <li>\n            <GoogleLogin\n              className=\"google-button\"\n              clientId={process.env.REACT_APP_CLIENT_ID}\n              buttonText=\"Login\"\n              onSuccess={this.onSuccess}\n              onFailure={this.onFailure}\n              cookiePolicy={\"single_host_origin\"}\n              disabled={this.state.isLoggedIn}\n\t\t\t  isSignedIn={true}\n            />\n            <GoogleLogout\n              className=\"google-button\"\n              clientId={process.env.REACT_APP_CLIENT_ID}\n              buttonText=\"Logout\"\n              onLogoutSuccess={this.logout}\n              disabled={!this.state.isLoggedIn}\n            ></GoogleLogout>\n          </li>\n          <li>\n            <a href=\"#!\" className=\"subheader\">\n              Built With Materialize CSS\n            </a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\n/* Old Add Photos\n          <li>\n            <a\n              ref={this.addPhotosRef}\n              className=\"waves-effect\"\n              href=\"#!\"\n              disabled={!this.state.isLoggedIn}\n              onClick={this.handleClickAddPhoto}\n            >\n              <i className=\"material-icons\">insert_photo</i>Add Photos\n            </a>\n            <AddPhoto\n              token={this.state.token}\n              email={this.state.email}\n              albumList={this.state.albums}\n              setAlbumCallBack={this.props.setAlbumCallBack}\n              album={this.props.album}\n            />\n          </li>\n\n*/\n\n/* Old Display Strategy\n\n            <ul id=\"dropdownDisplay\" className=\"dropdown-content\">\n              <li>\n                <a\n                  href=\"#!\"\n                  className=\"waves-effect\"\n                  onClick={(e) =>\n                    this.handleClickDisplayAlbum(e, DEFAULT_ALBUM)\n                  }\n                >\n                  <i className=\"material-icons\">filter_vintage</i>\n                  {DEFAULT_CAPITALIZED}\n                </a>\n              </li>\n              {this.state.albumsForDisplay.map((item) => (\n                <li>\n                  <a\n                    href=\"#!\"\n                    className=\"waves-effect\"\n                    onClick={(e) => this.handleClickDisplayAlbum(e, item)}\n                  >\n                    <i className=\"material-icons\">filter_vintage</i>\n                    {item}\n                  </a>\n                </li>\n              ))}\n*/\n\nexport default NavBar;\n\n","import React from \"react\";\nimport preview from \"./images/3.jpg\";\n\nconst ABOUT =\n  \"My name is Steven, and I developed this website for my girlfriend, Ciny, and me to use for several things. \" +\n  \"We thought it'd be a great idea to save memorable photos and cooking recipes somewhere we can easily access. \" +\n  \"This website's source code can be found below: \";\n\nclass Home extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col s1 m1 l4\"></div>\n          <div className=\"col s10 m10 l4\">\n            <img style={{width: \"100%\"}} alt=\"preview\" className=\"preview\" src={preview} />\n          </div>\n          <div className=\"col s1 m1 l4\"></div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col s1 m2\"></div>\n          <div className=\"col s10 m8\">\n            <p className=\"bio\">Hi!</p>\n            <p className=\"bio\">{ABOUT}</p>\n            <a href=\"https://github.com/sensui7/stiny-prod\">\n              GitHub Repository\n            </a>\n          </div>\n          <div className=\"col s1 m2\"></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n\n","import React from 'react';\n\nconst footerStyle = {\n  bottom: 0,\n  position: \"fixed\"\n};\n\nclass UploadRecipePhoto extends React.Component {\n  constructor(props) {\n\tsuper(props);\n\n\tthis.uploadRef = React.createRef();\n\tthis.dataRef = React.createRef();\n\tthis.pasteRef = React.createRef();\n  }\n\n  handleUpload = e => {\n\t// Reset if using upload option\n\tthis.pasteRef.current.value = \"\";\n  };\n\n  handlePaste = e => {\n\t// Reset if using URL option\n\tthis.uploadRef.current.value = \"\";\n  };\n\n  handleSubmit = () => {\n\tif (this.pasteRef.current.value !== \"\") {\n\t  this.props.populateFile(this.pasteRef.current.value);\n\t} else if (this.uploadRef.current.value !== \"\") {\n\t  this.props.populateFile(this.dataRef.current.files[0]);\n\t} else {\n\t  this.props.populateFile(\"\");\n\t}\n  };\n\n  render() {\n\treturn (\n\t  <div id=\"upload-recipe-modal\" className=\"modal arg\">\n        <div className=\"modal-content\">\n          <h4>Add Preview Photo For Recipe</h4>\n\t\t    <form action=\"#\">\n    \t\t  <div className=\"file-field input-field\">\n      \t\t    <div className=\"btn\">\n        \t\t  <span>Upload File</span>\n        \t\t  <input onChange={this.handleUpload} ref={this.dataRef} type=\"file\" accept=\"image/*\" />\n      \t\t    </div>\n      \t\t    <div className=\"file-path-wrapper\">\n                  <input ref={this.uploadRef} className=\"file-path\" type=\"text\" accept=\"image/*\" />\n      \t\t    </div>\n    \t      </div>\n    \t    </form>\n\t\t\t<div className=\"row\">\n        \t  <div className=\"col s12\">\n          \t    Paste an image URL here:\n          \t    <div className=\"input-field inline\">\n                  <input ref={this.pasteRef} onChange={this.handlePaste} id=\"url_inline\" type=\"text\"/>\n                  <label htmlFor=\"url_inline\">URL</label>\n          \t  \t</div>\n        \t  \t</div>\n        \t  </div>\n\t\t\t</div>\n\t\t\t<p>Either upload a photo or add a URL to reference the desired recipe preview photo.</p>\n\t\t\t<p>Only one option can be selected, so attempting to use both options will clear the last option used.</p>\n\t\t\t<div className=\"row\">\n\t\t\t              <button\n                className=\"btn waves-effect waves-light modal-close\"\n                type=\"submit\"\n                name=\"action\"\n                onClick={this.handleSubmit}\n              >\n                Submit\n                <i className=\"material-icons right\">send</i>\n              </button>\n\t\t\t</div>\n          <div className=\"modal-footer\" style={footerStyle}>\n          <a href=\"#!\" className=\"modal-close waves-effect waves-green btn\">Exit</a>\n        </div>\n      </div>\n\t);\n  }\n}\n\nexport default UploadRecipePhoto;\n","import React from \"react\";\nimport M from \"materialize-css\";\nimport axios from \"axios\";\nimport food from \"./images/food.jpg\";\nimport UploadRecipePhoto from \"./UploadRecipePhoto.js\";\n\nimport { Editor } from \"@tinymce/tinymce-react\";\n\n// Getting item means getting a string, so we have to parse the data to get a Javascript object\nconst initial = sessionStorage.getItem(\"content\");\n\nconst onSave = (content) => {\n  //console.log(\"saving\", content);\n  sessionStorage.setItem(\"content\", content);\n};\n\nconst options = {\n  coverTrigger: false,\n};\n\nconst headersConfig = {\n  \"Content-Type\": \"multipart/form-data\",\n};\n\nconst previewStyle = {\n  width: \"100%\",\n  height: \"15vw\",\n  objectFit: \"cover\"\n};\n\nconst BREAKFAST = \"Breakfast\";\nconst LUNCH = \"Lunch\";\nconst DINNER = \"Dinner\";\nconst DESSERT = \"Dessert\";\nconst SNACK = \"Snack\";\nconst OTHER = \"Other\";\n\nclass Cooking extends React.Component {\n  constructor(props) {\n    super(props);\n    this.recipeNameRef = React.createRef();\n\tthis.recipePictureRef = React.createRef();\n    this.editorRef = React.createRef();\n\tthis.submitRef = React.createRef();\n    this.state = {\n      addRecipeMessage: \"\",\n      recipes: [],\n      content: \"\",\n\t  modal: null,\n\t  file: null,\n\t  filter: \"\",\n\t  tag: []\n    };\n  }\n\n  handleViewRecipe = (e, name, data) => {\n    this.props.triggerViewRecipe(name, data);\n  };\n\n  handleEditorChange = (e) => {\n    onSave(e.target.getContent());\n    //console.log(\"Content was updated:\", e.target.getContent());\n\n    this.setState({\n      content: e.target.getContent(),\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\tif (this.props.idtoken !== \"\") {\n\t  this.submitRef.current.classList.remove(\"disabled\");\n\t  this.recipePictureRef.current.classList.remove(\"disabled\");\n\t  document.querySelectorAll(\".recipes\").forEach(e => e.classList.remove(\"disabled\"));\n\t  document.querySelectorAll(\".edit-recipes\").forEach(e => e.classList.remove(\"disabled\"));\n\t} else {\n\t  this.submitRef.current.classList.add(\"disabled\");\n\t  this.recipePictureRef.current.classList.add(\"disabled\");\n\t  document.querySelectorAll(\".recipes\").forEach(e => e.classList.remove(\"disabled\"));\n\t  document.querySelectorAll(\".recipes\").forEach(e => e.classList.add(\"disabled\"));\n\t  document.querySelectorAll(\".edit-recipes\").forEach(e => e.classList.add(\"disabled\"));\n\t}\n\n    const elems = document.querySelectorAll(\".collapsible\");\n    M.Collapsible.init(elems);\n\n\tconst dropdowns = document.querySelectorAll(\".recipes\");\n    M.Dropdown.init(dropdowns, options);\n  }\n\n  componentDidMount() {\n    // In case of saved data from local storage\n    this.setState({\n      content: initial,\n    });\n\n    const elems = document.querySelectorAll(\".collapsible\");\n    M.Collapsible.init(elems);\n\n\tconst dropdowns = document.querySelectorAll(\".recipes\");\n    M.Dropdown.init(dropdowns, options);\n\n\tconst select = document.getElementById('selectCreate');\n    M.FormSelect.init(select);\n\n\tconst isLoggedIn = this.props.idtoken === \"\" ? false : true;\n\n    axios\n      .get(\"/getAllRecipes\", { params: { idtoken: this.props.idtoken } })\n      .then(\n        (response) => {\n          this.setState({\n            recipes: response,\n          });\n\n\t\t  // Can only be applied after the dropdowns are initialized\n\t\t  if (!isLoggedIn) {\n\t        document.querySelectorAll(\".recipes\").forEach(e => e.classList.add(\"disabled\"));\n\t        document.querySelectorAll(\".edit-recipes\").forEach(e => e.classList.add(\"disabled\"));\n\t\t  }\n        },\n        (error) => {}\n      );\n  }\n\n  isValidUrl = string => {\n    try {\n      new URL(string);\n    } catch (_) {\n      return false;\n    }\n\n    return true;\n  }\n\n  handleSubmit = () => {\n    const recipeName = this.recipeNameRef.current.value;\n\n    if (recipeName === \"\") {\n      this.recipeNameRef.current.classList.add(\"invalid\");\n      this.setState({\n        addRecipeMessage: \"Please enter a recipe name.\",\n      });\n      return;\n    }\n\n    this.recipeNameRef.current.classList.remove(\"valid\");\n    this.recipeNameRef.current.classList.remove(\"invalid\");\n\n\tlet formData = new FormData();\n\tformData.append(\"recipeName\", recipeName);\n\tformData.append(\"data\", this.state.content);\n\tformData.append(\"image\", this.state.file);\n\tformData.append(\"idtoken\", this.props.idtoken);\n\tformData.append(\"tag\", (this.state.tag === \"\") ? undefined : this.state.tag);\n\tif (this.isValidUrl(this.state.file)) {\n\t  formData.append(\"preview\", this.state.file);\n\t}\n\n\t/*\n    const request = {\n      recipeName: recipeName,\n      data: this.state.content,\n      idtoken: this.props.idtoken,\n    };\n\t*/\n\n    axios.post(\"/addRecipe\", formData, { headers: headersConfig } ).then(\n      (response) => {\n        this.recipeNameRef.current.classList.add(\"valid\");\n\t\t//console.log(\"added recipe!\");\n\n        axios\n          .get(\"/getAllRecipes\", { params: { idtoken: this.props.idtoken } })\n          .then(\n            (response) => {\n\t\t\t  //console.log(\"refreshing recipes list\");\n              this.setState({\n                recipes: response,\n              });\n            },\n            (error) => {}\n          );\n      },\n      (err) => {\n        this.recipeNameRef.current.classList.add(\"invalid\");\n\n        if (err.response.status === 404) {\n          this.setState({\n            addRecipeMessage:\n              \"Please connect to the internet to use this feature.\",\n          });\n        } else if (err.response.status === 400) {\n          this.setState({\n            addRecipeMessage:\n              \"Account login status expired. Please logout and login.\",\n          });\n        } else if (err.response.status === 500) {\n          this.setState({\n            addRecipeMessage: \"Recipe name already exists.\",\n          });\n        } else if (err.response.status === 403) {\n          this.setState({\n            addRecipeMessage: \"Only admins are authorized to add a recipe.\",\n          });\n        }\n      }\n    );\n  };\n\n  handleKeydown = (e) => {\n    this.recipeNameRef.current.classList.remove(\"valid\");\n    this.recipeNameRef.current.classList.remove(\"invalid\");\n  };\n\n  handleDelete = (e, recipeName) => {\n    const request = {\n      recipeName: recipeName,\n      idtoken: this.props.idtoken\n    };\n\n    //console.log(request);\n\n    axios.post(\"/deleteRecipe\", request).then(\n      (response) => {\n\t\taxios\n\t\t  .get(\"/getAllRecipes\", { params: { idtoken: this.props.idtoken } })\n\t\t  .then(\n\t\t\t(response) => {\n\t\t\t  this.setState({\n\t\t\t\trecipes: response,\n\t\t\t  });\n\t\t    },\n\t\t\t(error) => {}\n\t\t    );\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  handleAddPreview = () => {\n\tconst elem = document.getElementById(\"upload-recipe-modal\");\n    const modal = M.Modal.init(elem);\n\n\tmodal.open();\n  };\n\n  populateFile = data => {\n\tthis.setState({\n \t  file: data\n\t});\n  };\n\n  handleType = e => {\n    const options = e.target.options;\n\tconst selected = [...options].filter(o => o.selected);\n\tconst values = selected.map(o => o.value);\n\n    this.setState({\n\t  tag: values,\n\t});\n  };\n\n  handleFilter = (e, filterType) => {\n\tthis.setState({\n\t  filter: filterType\n\t});\n  };\n\n  render() {\n    let recipesToRender = [];\n\n    if (this.state.recipes.length !== 0) {\n\t  if (this.state.filter !== \"\") {\n\t\trecipesToRender = this.state.recipes.data.filter(recipe => {\n\t\t  if (recipe.tag !== undefined) {\n\t\t    return recipe.tag.includes(this.state.filter);\n\t\t  }\n\t\t});\n\t  } else {\n        this.state.recipes.data.forEach((recipe) => {\n          recipesToRender.push(recipe);\n        });\n\t  }\n    }\n\n    return (\n      <div className=\"row\">\n        <ul className=\"collapsible popout\">\n          <li>\n            <div className=\"collapsible-header\">\n              <i className=\"material-icons\">playlist_add</i>Add Recipe\n            </div>\n            <div className=\"collapsible-body\">\n\t\t\t  <div className=\"row\">\n\t\t\t    <UploadRecipePhoto populateFile={this.populateFile} />\n\t\t\t\t<div className=\"row\">\n\t\t\t      <a href=\"#!\" ref={this.recipePictureRef} className=\"waves-effect waves-light btn-large\" onClick={this.handleAddPreview}><i className=\"material-icons left\">photo</i>Add Preview Photo</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\" style={{width: \"10%\", height: \"10%\"}}>\n\t\t\t\t{ this.state.file === null ? <p>Default Photo</p> : null }\n\t\t\t\t{ this.state.file !== null && this.state.file !== \"\" ?\n\t\t\t\t  <img alt=\"chosen\" src={this.isValidUrl(this.state.file) ? this.state.file : URL.createObjectURL(this.state.file)}/> :\n\t\t\t\t  <img alt=\"default\" src={food} />\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t  </div>\n              <Editor\n                ref={this.editorRef}\n                initialValue={initial || null}\n                apiKey=\"p234ptga2jzgn5mia4hnruilh2zzuhfchjd7ja98rwu5p6g4\"\n                init={{\n\t\t\t\t  contextmenu: false,\n\t\t\t\t  browser_spellcheck : true,\n                  height: 500,\n\t\t\t\t  selector: \"textarea\",\n                  plugins: [\n                    \"advlist autolink lists link image\",\n                    \"charmap print preview anchor help\",\n                    \"searchreplace visualblocks code\",\n                    \"insertdatetime media table paste wordcount\",\n                  ],\n                  toolbar:\n                    \"undo redo | fontselect | fontsize | forecolor | backcolor | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | help\",\n\t\t\t\t  paste_enable_default_filters: false,\n\t\t\t\t  paste_word_valid_elements: \"b,strong,i,em,h1,h2,h3,h4,h5\"\n                }}\n                onChange={this.handleEditorChange}\n              />\n\t\t\t  <div className=\"row\">\n\t\t\t    <div className=\"col s3\"></div>\n\t\t\t    <div className=\"input-field col s6\">\n    \t\t\t  <select \n\t\t\t\t    multiple\n\t\t\t\t    defaultValue={[]}\n\t\t\t\t\tonChange={this.handleType}\n\t\t\t  \t\tid=\"selectCreate\"\n\t\t\t\t  >\n      \t\t\t\t<option value=\"nonetype\" disabled >Choose Recipe Type</option>\n      \t\t\t\t<option value=\"Breakfast\">Breakfast</option>\n      \t\t\t\t<option value=\"Lunch\">Lunch</option>\n       \t\t\t    <option value=\"Dinner\">Dinner</option>\n       \t\t\t    <option value=\"Dessert\">Dessert</option>\n       \t\t\t    <option value=\"Snack\">Snack</option>\n       \t\t\t    <option value=\"Other\">Other</option>\n    \t\t\t  </select>\n    \t\t\t  <label>Tag Recipe Type</label>\n   \t\t\t    </div>\n\t\t\t    <div className=\"col s3\"></div>\n\t\t\t  </div>\n              <div className=\"row\">\n                <div className=\"col s3\"></div>\n                <div className=\"input-field col s6\">\n                  <input\n                    ref={this.recipeNameRef}\n                    id=\"recipename\"\n                    type=\"text\"\n                    onKeyDown={this.handleKeydown}\n                  />\n                  <label htmlFor=\"recipename\">Recipe Name</label>\n                  <span\n                    className=\"helper-text\"\n                    data-error={this.state.addRecipeMessage}\n                    data-success=\"Recipe created!\"\n                  ></span>\n                </div>\n                <div className=\"col s3\"></div>\n              </div>\n              <button\n                className=\"btn waves-effect waves-light\"\n                type=\"submit\"\n                name=\"action\"\n                onClick={this.handleSubmit}\n\t\t\t\tref={this.submitRef}\n              >\n                Submit\n                <i className=\"material-icons right\">send</i>\n              </button>\n            </div>\n          </li>\n\t\t  <li>\n      \t\t<div className=\"collapsible-header\"><i className=\"material-icons\">filter_list</i>Filter Recipes</div>\n      \t\t<div className=\"collapsible-body\">\n\t\t\t  <a style={{width: \"50%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, BREAKFAST)}>Breakfast</a>\n\t\t\t  <a style={{width: \"50%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, DESSERT)}>Dessert</a>\n\t\t\t  <a style={{width: \"50%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, LUNCH)}>Lunch</a>\n\t\t\t  <a style={{width: \"50%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, SNACK)}>Snack</a>\n\t\t\t  <a style={{width: \"50%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, DINNER)}>Dinner</a>\n\t\t\t  <a style={{width: \"50%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, OTHER)}>Other</a>\n\t\t\t  <a style={{width: \"100%\"}} className=\"btn waves-effect waves-light\" href=\"#!\" onClick={e => this.handleFilter(e, \"\")}>All Recipes</a>\n\t\t\t</div>\n    \t  </li>\n        </ul>\n\t\t<div className=\"row\">\n\t\t{recipesToRender.map((item) => (\n\t\t  <div className=\"col l3 m4 s6\">\n\t\t    <div className=\"card\">\n\t\t\t  <div className=\"card-image waves-effect waves-block waves-light\" onClick={e => this.handleViewRecipe(e, item.name, item.data)}>\n\t\t\t    <img alt=\"default\" src={item.preview !== undefined ? item.preview : food}/>\n\t\t\t  </div>\n\t\t\t  <div className=\"card-content\" style={{height: \"150px\"}}>\n\t\t\t    <div className=\"row\">\n\t\t\t      <i className=\"material-icons activator\" style={{cursor: \"pointer\", float: \"right\", marginleft: \"1em\"}}>settings</i>\n\t\t\t      <span className=\"card-title grey-text text-darken-4\" style={{cursor: \"pointer\"}} onClick={e => this.handleViewRecipe(e, item.name, item.data)}>{item.name}</span>\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t  <div key={item.name} className=\"card-reveal\">\n\t\t\t    <div className=\"row\">\n                <h4 className=\"grey-text text-darken-4\">Recipe Settings</h4>\n\t\t\t\t</div>\n\t\t\t    <div className=\"row\">\n\t\t\t    <a style={{width: \"100%\"}} className=\"dropdown-trigger btn red recipes\" href=\"#!\" data-target={item.name} >\n\t\t\t      Delete\n\t\t\t    </a>\n\t\t\t    <ul id={item.name} className=\"dropdown-content\">\n\t\t\t      <li>\n\t\t\t\t    <a style={{width: \"100%\"}} href=\"#!\" onClick={e => this.handleDelete(e, item.name)}>Confirm</a>\n\t\t\t\t  </li>\n\t\t\t    </ul> \n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t    <a style={{width: \"100%\"}} className=\"btn waves-effect edit-recipes\" href=\"#!\" data-target={item.name} onClick={e => this.props.triggerEdit(e, item.data, item.name, item.tag)}>\n\t\t\t      Edit\n\t\t\t    </a>\n\t\t\t\t</div>\n\t\t\t    <div className=\"row\" style={{display: \"inline-block\"}}>\n\t\t\t\t  <i className=\"card-title material-icons\">close</i>\n\t\t\t\t</div>\n              </div>\n\t\t    </div>\n\t\t  </div>\n\t\t))}\n\t\t</div>\n      </div>\n    );\n  }\n}\n\nexport default Cooking;\n\n/*\n   Old Method:\n          {recipesToRender.map((item) => (\n            <li>\n              <div className=\"collapsible-header\">\n                <i className=\"material-icons\">menu_book</i>\n                {item.name}\n              </div>\n              <div\n                className=\"collapsible-body instructions\"\n              >\n\t\t\t    <div className=\"row\">\n\t\t\t    <a className=\"dropdown-trigger btn right red recipes\" href=\"#!\" data-target={item.name} >\n\t\t\t      Delete Recipe\n\t\t\t    </a>\n\t\t\t    <a className=\"btn right waves-effect edit-recipes\" href=\"#!\" data-target={item.name} onClick={e => this.props.triggerEdit(e, item.data, item.name)}>\n\t\t\t      Edit Recipe\n\t\t\t    </a>\n\t\t\t\t</div>\n\t\t\t    <ul id={item.name} className=\"dropdown-content\">\n\t\t\t      <li>\n\t\t\t\t    <a href=\"#!\" onClick={e => this.handleDelete(e, item.name)}>Confirm</a>\n\t\t\t\t  </li>\n\t\t\t    </ul> \n\t\t\t    <div className=\"recipe-display\" dangerouslySetInnerHTML={{__html: item.data}} ></div>\n\t\t\t  </div>\n            </li>\n          ))}\n\n*/\n","import React from 'react';\nimport ImageUploader from 'react-images-upload';\nimport { Button } from 'react-materialize';\n\n// 5 MB\nconst MAX_FILE_SIZE = 5242880;\n\nclass BulkView extends React.Component {\n  constructor(props) {\n    super(props);\n\n\tthis.state = {\n\t  pictures: [],\n\t  uploaderKey: 0\n\t};\n  }\n\n  // \"picture\" is an array of file objects\n  onDrop = picture => {\n\tthis.setState({\n\t  pictures: this.state.pictures.concat(picture),\n\t  uploaderKey: this.state.uploaderKey + 1\n\t});\n\n\t// Key property given in ImageUploader; this prevents the previously uploaded values in \"picture\" argument\n  };\n\n  handleRemove = async (e, item) => {\n\tawait this.setState({\n\t  pictures: this.state.pictures.filter(pic => pic !== item),\n\t  uploaderKey: this.state.uploaderKey + 1\n\t});\n  };\n\n  handleSubmit = () => {\n\tconst data = {\n\t  \"dates\": document.getElementsByClassName(\"date-input\"),\n\t  \"captions\": document.getElementsByClassName(\"desc-input\"),\n\t  \"pictures\": this.state.pictures\n\t};\n\n\tthis.props.sendData(data);\n  };\n\n  render() {\n\treturn (\n\t  <div>\n\t\t  <ImageUploader\n\t\t    withIcon={true}\n\t\t\tbuttonText=\"Choose Images\"\n\t\t\tonChange={this.onDrop}\n\t\t\timgExtension={[\".jpg\", \".jpeg\", \".gif\", \".png\", \".tif\", \".tiff\"]}\n\t\t\tmaxFileSize={MAX_FILE_SIZE}\n\t\t\tkey={this.state.uploaderKey}\n\t\t  />\n\t\t  { this.state.pictures.length === 0 ? null :\n\t\t    this.state.pictures.map((item, index) => (\n\t\t\t  <div className=\"row\" key={index}>\n\t\t\t  <div className=\"col l1\">\n\t\t\t   <Button onClick={e => this.handleRemove(e, item)} style={{marginTop: \"100%\"}} className=\"btn-floating red waves-effect\" ><i className=\"material-icons\">remove</i></Button> \n\t\t\t  </div>\n\t\t\t  <div className=\"col l5\">\n\t\t\t  <img alt=\"#!\" style={{maxWidth: \"50%\", maxHeight: \"50%\"}} src={URL.createObjectURL(item)} />\n\t\t\t  </div>\n\t\t\t  \n\t\t\t  <div className=\"col l6\">\n            <div className=\"input-field col s12\">\n              <input\n                id={index + \" date\"}\n                type=\"text\"\n\t\t\t\tclassName=\"date-input\"\n              />\n              <label htmlFor=\"date\">Date</label>\n            </div>\n            <div className=\"input-field col s12\">\n              <input\n                id={index + \" desc\"}\n                type=\"text\"\n\t\t\t\tclassName=\"desc-input\"\n              />\n              <label htmlFor=\"desc\">Caption</label>\n            </div>\n\t\t\t  </div>\n\t\t\t  </div>\n\t\t\t))\n\t\t  }\n\t\t  <Button className=\"waves-effect\" onClick={this.handleSubmit} >Submit</Button>\n\t  </div>\n\t);\n  }\n};\n\nexport default BulkView;\n","import React from 'react';\nimport BulkView from './BulkView';\nimport M from \"materialize-css\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport axios from 'axios';\n\nconst headersConfig = {\n  \"Content-Type\": \"multipart/form-data\",\n};\n\nclass AddPhotosBulk extends React.Component {\n  constructor(props) {\n\tsuper(props);\n\n\tthis.state = {\n\t  selectedAlbum: \"\",\n\t  message: \"\",\n\t  loading: false\n\t};\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\tif (prevProps.albumsList !== this.props.albumsList) {\n\t  const elems = document.querySelectorAll(\"select\");\n\t  M.FormSelect.init(elems);\n\t}\n  }\n\n  handleSelect = e => {\n\tthis.setState({\n\t  selectedAlbum: e.target.value,\n\t  message: \"\"\n\t});\n  };\n\n  sendData = async (data) => {\n\tthis.setState({\n\t  message: \"\"\t\t\t\n\t});\n\n\tif (this.state.selectedAlbum === \"\") {\n\t  this.setState({\n\t    message: \"Please make sure an album is selected.\"\n\t  });\n\n\t  return;\n\t}\n\n\tif (data.pictures.length === 0) {\n\t  await this.setState({\n  \t\tmessage: \"Please add some photos before uploading them!\"\t\n\t  });\n\n\t  return;\n\t}\n\n\tawait this.setState({\n\t  loading: true\n\t});\n\n\tfor (let i = 0; i < data.pictures.length; ++i) {\n\t  let bodyFormData = new FormData();\n      bodyFormData.append(\"idtoken\", this.props.idtoken);\n      bodyFormData.append(\"albumName\", this.state.selectedAlbum);\n      bodyFormData.append(\"caption\", data.captions[i].value);\n      bodyFormData.append(\"date\", data.dates[i].value);\n      bodyFormData.append(\"image\", data.pictures[i]);\n\n      const result = await axios\n\t\t  .post(\"/addPhoto\", bodyFormData, { headers: headersConfig })\n\t\t  .then( async (response) => {\n\t\t    return 200;\n\t\t  }, error => {\n\t\t\tif (error.response.status === 403) {\n\t\t\t  this.setState({\n\t\t\t\tmessage: \"Could not add photo! Album does not exist.\",\n\t\t\t  });\n\t\t\t} else if (error.response.status === 400) {\n\t\t\t  this.setState({\n\t\t\t\tmessage: \"Could not add photo! Try relogging into your account.\",\n\t\t\t  });\n\t\t\t} else if (error.response.status === 404) {\n\t\t\t  this.setState({\n\t\t\t\tmessage: \"Please connect to the internet to use this feature.\",\n\t\t\t  });\n\t\t\t}\n\t\t\treturn error.response.status;\n\t\t  });\n\n\t\tif (result !== 200) {\n\t\t  this.setState({\n\t\t    loading: false\n\t\t  });\n\n\t\t  return;\n\t\t}\n\t}\n\n\tthis.setState({\n\t  loading: false,\n\t  message: \"Successfully added photos to \" + this.state.selectedAlbum + \" album!\"\n\t});\n\n\t// Refresh the current album\n\tthis.props.setAlbumCallBack(this.props.album);\n  };\n\n  render() {\n    return (\n\t  <div>\n\t    <div id=\"bulk\" className=\"modal arg\">\n          <div className=\"modal-content\">\n            <h4>Add Photos</h4>\n          <div className=\"row\">\n            <div className=\"input-field col s12\">\n              <select\n                defaultValue={this.state.selectedAlbum}\n                onChange={this.handleSelect}\n              >\n                <option value=\"\" disabled>\n                  Choose Album\n                </option>\n                {this.props.albumsList ? this.props.albumsList.map((item) => (\n                  <option key={item} value={item}>{item}</option>\n                )) : null}\n              </select>\n            </div>\n\t\t  </div>\n\t\t  \t<BulkView sendData={this.sendData}/>\n\t\t\t      <div className=\"sweet-loading\">\n        <BeatLoader\n          size={10}\n          color={\"#123abc\"}\n          loading={this.state.loading}\n        />\n\t\t  <div className=\"row\">\n            <span className=\"helper-text\">{this.state.message}</span>\n\t\t  </div>\n      </div>\n          </div>\n    \t  <div className=\"modal-footer\">\n            <a href=\"#!\" className=\"modal-close waves-effect waves-green btn-flat\">Exit</a>\n    \t  </div>\n  \t    </div>\n\t  </div>\n\t);\n  }\n}\n\nexport default AddPhotosBulk;\n","import React from \"react\";\n\nconst footerStyle = {\n  bottom: 0,\n  position: \"sticky\",\n};\n\nclass EditRecipePhoto extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uploadRef = React.createRef();\n    this.dataRef = React.createRef();\n    this.pasteRef = React.createRef();\n  }\n\n  handleUpload = (e) => {\n    // Reset if using upload option\n    this.pasteRef.current.value = \"\";\n  };\n\n  handlePaste = (e) => {\n    // Reset if using URL option\n    this.uploadRef.current.value = \"\";\n  };\n\n  handleSubmit = () => {\n    if (this.pasteRef.current.value !== \"\") {\n      this.props.populateFile(this.pasteRef.current.value);\n    } else if (this.uploadRef.current.value !== \"\") {\n      this.props.populateFile(this.dataRef.current.files[0]);\n    } else {\n      this.props.populateFile(\"\");\n    }\n\n    this.props.closeModal();\n  };\n\n  handleClose = () => {\n    this.props.closeModal();\n  };\n\n  render() {\n    return (\n      <div id=\"edit-recipe-modal\" className=\"modal arg\">\n        <div className=\"modal-content\">\n          <h4>Add Preview Photo For Recipe</h4>\n          <div className=\"row\">\n            <div className=\"col s6\">\n              <form action=\"#\">\n                <div className=\"file-field input-field\">\n                  <div className=\"btn\">\n                    <span>Upload File</span>\n                    <input\n                      onChange={this.handleUpload}\n                      ref={this.dataRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                    />\n                  </div>\n                  <div className=\"file-path-wrapper\">\n                    <input\n                      ref={this.uploadRef}\n                      className=\"file-path\"\n                      type=\"text\"\n                      accept=\"image/*\"\n                    />\n                  </div>\n                </div>\n              </form>\n              <div className=\"row\">\n                <div className=\"col s12\">\n                  Paste an image URL here:\n                  <div className=\"input-field inline\">\n                    <input\n                      ref={this.pasteRef}\n                      onChange={this.handlePaste}\n                      id=\"url_edit_inline\"\n                      type=\"text\"\n                    />\n                    <label htmlFor=\"url_edit_inline\">URL</label>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          <div className=\"col s6\">\n            <p>\n              Either upload a photo or add a URL to reference the desired recipe\n              preview photo.\n            </p>\n            <p>\n              Only one option can be selected, so attempting to use both options\n              will clear the last option used.\n            </p>\n            <div className=\"row\">\n              <button\n                className=\"btn waves-effect waves-light\"\n                type=\"submit\"\n                name=\"action\"\n                onClick={this.handleSubmit}\n              >\n                Submit\n                <i className=\"material-icons right\">send</i>\n              </button>\n            </div>\n          </div>\n\n          </div>\n        </div>\n\n        <div className=\"modal-footer\" style={footerStyle}>\n          <a\n            href=\"#!\"\n            onClick={this.handleClose}\n            className=\"waves-effect waves-green btn\"\n          >\n            Exit\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditRecipePhoto;\n\n","import React from \"react\";\nimport M from \"materialize-css\";\nimport { Button } from \"react-materialize\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport food from \"./images/food.jpg\";\nimport EditRecipePhoto from \"./EditRecipePhoto.js\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport axios from \"axios\";\n\nconst headersConfig = {\n  \"Content-Type\": \"multipart/form-data\",\n};\n\nclass EditRecipe extends React.Component {\n  constructor(props) {\n    super(props);\n    this.editorRef = React.createRef();\n\tthis.newNameRef = React.createRef();\n\tthis.labelRef = React.createRef();\n\tthis.selectRef = React.createRef();\n\n\tthis.state = {\n\t  file: null,\n\t  modal: null,\n\t  loading: false,\n\t  message: \"\"\n\t};\n  }\n\n  componentDidMount() {\n\tlet elem = document.getElementById(\"edit-recipe\");\n\telem.tabIndex = \"\";\n\telem.scrollTop = 0;\n\n\tconst select = document.getElementById('selectEdit');\n    M.FormSelect.init(select);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\tif (this.state.file !== null && prevState.file !== null) {\n\t  this.setState({\n\t\tfile: null\n\t  });\n\t}\n\n\tif (this.props.recipeName !== prevProps.recipeName) {\n\t  this.newNameRef.current.value = this.props.recipeName;\n\t}\n\n\t// Edit the value first before initializing the element for\n\t// MaterializeCSS element to work properly.\n\tif (this.props.recipeTag === undefined) {\n\t  return;\n\t}\n\n\tconst tags = this.props.recipeTag.split(\",\");\n\t// Refresh every time\n\t[...this.selectRef.current.options].map(o => o.selected = false);\n\n\t// Set the new values\n\t[...this.selectRef.current.options].filter(o => tags.includes(o.value))\n\t\t\t\t\t\t\t\t\t   .map(o => o.selected = true);\n\tconst select = document.getElementById('selectEdit');\n    M.FormSelect.init(select);\n  }\n\n  handleSubmit = async () => {\n\t/*\n    const request = {\n      idtoken: this.props.idtoken,\n      recipeName: this.props.recipeName,\n      data: this.editorRef.current.editor.getContent(),\n\t  newName: this.newNameRef.current.value\n    };\n\t*/\n\n\t// TODO: Need to validate if recipe name is not \"\" in input\n\tconst options = this.selectRef.current.options;\n\tconst selected = [...options].filter(o => o.selected);\n\tconst values = selected.map(o => o.value);\n\tif (values.length === 0) {\n\t  values = undefined;\n\t}\n\n\tlet formData = new FormData();\n\tformData.append(\"recipeName\", this.props.recipeName);\n\tformData.append(\"data\", this.editorRef.current.editor.getContent());\n\tformData.append(\"image\", this.state.file);\n\tformData.append(\"idtoken\", this.props.idtoken);\n\tformData.append(\"newName\", this.newNameRef.current.value);\n\tformData.append(\"tag\", values || this.props.recipeTag);\n\n\tif (this.isValidUrl(this.state.file)) {\n\t  formData.append(\"preview\", this.state.file);\n\t}\n\n\tawait this.setState({\n\t  loading: true\n\t});\n\n    await axios.post(\"/updateRecipe\", formData, { headers: headersConfig } ).then(\n      async (response) => {\n\t\tthis.setState({\n\t\t  loading: false,\n\t\t});\n\n        await this.props.recipeEditCallback();\n      },\n      (error) => {\n        console.log(\"Unsuccessful update\");\n\n\t\tthis.setState({\n\t\t  loading: false,\n\t\t  message: \"Unable to update the recipe.\"\n\t\t});\n      }\n    );\n  };\n\n  handleAddPreview = () => {\n\tconst elem = document.getElementById(\"edit-recipe-modal\");\n    const modal = M.Modal.init(elem);\n\n\tthis.setState({\n\t  modal: modal\n\t});\n\n\tmodal.open();\n  };\n\n  closeModal = () => {\n\tthis.state.modal.close();\n  };\n\n  populateFile = data => {\n\tthis.setState({\n \t  file: data\n\t});\n  };\n\n  isValidUrl = string => {\n    try {\n      new URL(string);\n    } catch (_) {\n      return false;\n    }\n\n    return true;\n  };\n\n  handleType = e => {\n\t/*\n\tconst options = e.target.options;\n\tconst selected = [...options].filter(o => o.selected);\n\tconst values = selected.map(o => o.value);\n\n\tthis.setState({\n\t  tag: values\n\t});\n\t*/\n  };\n\n  render() {\n    const data = this.props.recipeToEdit;\n\n    return (\n      <div id=\"edit-recipe\" className=\"modal arg\">\n        <div className=\"modal-content\">\n\t\t  <EditRecipePhoto populateFile={this.populateFile} closeModal={this.closeModal}/>\n          <h4>Edit Recipe</h4>\n\t\t\t  <div className=\"row\">\n\t\t\t\t<div className=\"row\">\n\t\t\t      <a href=\"#!\" className=\"waves-effect waves-light btn-large\" onClick={this.handleAddPreview}><i className=\"material-icons left\">photo</i>Add Preview Photo</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\" style={{width: \"10%\", height: \"10%\"}}>\n\t\t\t\t{ this.state.file === null ? <p>Default Photo</p> : null }\n\t\t\t\t{ this.state.file !== null && this.state.file !== \"\" ?\n\t\t\t\t  <img style={{width: \"100%\"}} alt=\"chosen\" src={this.isValidUrl(this.state.file) ? this.state.file : URL.createObjectURL(this.state.file)}/> :\n\t\t\t\t  <img alt=\"default\" src={food} style={{width: \"100%\"}} />\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t  </div>\n          <Editor\n            key={data}\n            ref={this.editorRef}\n            value={data}\n            apiKey=\"p234ptga2jzgn5mia4hnruilh2zzuhfchjd7ja98rwu5p6g4\"\n            init={{\n              contextmenu: false,\n              browser_spellcheck: true,\n              height: 500,\n              selector: \"textarea\",\n              plugins: [\n                \"advlist autolink lists link image\",\n                \"charmap print preview anchor help\",\n                \"searchreplace visualblocks code\",\n                \"insertdatetime media table paste wordcount\",\n              ],\n              toolbar:\n                \"undo redo | fontselect | fontsize | forecolor | backcolor | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | help\",\n              paste_enable_default_filters: false,\n              paste_word_valid_elements: \"b,strong,i,em,h1,h2,h3,h4,h5\",\n            }}\n          />\n          <br />\n\t\t\t  <div className=\"row\">\n\t\t\t    <div className=\"col s3\"></div>\n\t\t\t    <div className=\"input-field col s6\">\n    \t\t\t  <select \n\t\t\t\t    multiple\n\t\t\t\t    defaultValue={[]}\n\t\t     \t\tref={this.selectRef}\n\t\t\t\t\tonChange={this.handleType}\n\t\t\t\t\tid=\"selectEdit\"\n\t\t\t\t  >\n      \t\t\t\t<option value=\"nonetype\" disabled >Choose Recipe Type</option>\n      \t\t\t\t<option value=\"Breakfast\">Breakfast</option>\n      \t\t\t\t<option value=\"Lunch\">Lunch</option>\n       \t\t\t    <option value=\"Dinner\">Dinner</option>\n       \t\t\t    <option value=\"Dessert\">Dessert</option>\n       \t\t\t    <option value=\"Snack\">Snack</option>\n       \t\t\t    <option value=\"Other\">Other</option>\n    \t\t\t  </select>\n    \t\t\t  <label>Tag Recipe Type</label>\n   \t\t\t    </div>\n\t\t\t    <div className=\"col s3\"></div>\n\t\t\t  </div>\n\n\t\t    <div className=\"row\">\n              <div className=\"col s12\">\n\t\t\t    Enter Recipe Name: \n                <div className=\"input-field inline\">\n                  <input ref={this.newNameRef} id=\"newRecipe\" type=\"text\" placeholder=\"Recipe Name\"/>\n                </div>\n              </div>\n            </div>\n\n          <Button waves=\"light\" onClick={this.handleSubmit}>\n            Submit Changes\n          </Button>\n\t\t\t      <div className=\"sweet-loading\">\n        <BeatLoader\n          size={10}\n          color={\"#123abc\"}\n          loading={this.state.loading}\n        />\n\t\t  <div className=\"row\">\n            <span className=\"helper-text\">{this.state.message}</span>\n\t\t  </div>\n      </div>\n        </div>\n        <div className=\"modal-footer\">\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect waves-green btn-flat\"\n          >\n            Exit\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditRecipe;\n\n","import React from 'react';\n\nclass ViewRecipe extends React.Component {\n  constructor(props) {\n    super(props);\n\n\tthis.recipeModalRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.recipeModalRef.current.scrollTop = 0;\n  }\n\n  render() {\n\treturn (\n\t  <div ref={this.recipeModalRef} id=\"view-recipe-modal\" className=\"modal recipe\">\n\t\t<div className=\"modal-content\">\n\t\t  <div className=\"recipe-display\" dangerouslySetInnerHTML={{__html: this.props.recipeData}}></div>\n\t\t</div>\n\t\t<div className=\"modal-footer\" style={{backgroundColor: \"white\"}}>\n\t\t\t<a href=\"#!\" style={{width: \"25%\", fontSize: \"1.5em\"}} className=\"modal-close waves-effect waves-green btn\"><i className=\"material-icons\" style={{verticalAlign: \"middle\", fontSize: \"1.5em\"}}>arrow_back</i>Exit</a>\n\t\t</div>\n\t  </div> \n\t);\n  }\n}\n\nexport default ViewRecipe;\n","import React, { Component } from \"react\";\nimport \"./styles/App.css\";\nimport MenuBar from \"./MenuBar.js\";\nimport PhotoCarousel from \"./PhotoCarousel.js\";\nimport NavBar from \"./NavBar.js\";\nimport Home from \"./Home.js\";\nimport Cooking from \"./Cooking.js\";\nimport AddPhotosBulk from \"./AddPhotosBulk.js\";\nimport EditRecipe from \"./EditRecipe.js\";\nimport ViewRecipe from \"./ViewRecipe.js\";\nimport M from \"materialize-css\";\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"./styles/index.css\";\nimport \"./Modal.css\";\nimport axios from \"axios\";\n\nexport const DEFAULT_ALBUM = \"default\";\nexport const SEARCH_FLAGS = [\n  \"Please login to use this feature.\",\n  \"No album was found with any photos.\",\n  \"Make sure you're connected to the internet.\",\n];\nconst Tab = {\n  HOME: 1,\n  PHOTOS: 2,\n  COOKING: 3,\n};\nconst TabNames = [\"Photos\", \"Cooking\", \"Home\"];\n\n// 55 minutes per refreshing auth token\nconst REFRESH_TIME = 3300000;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      idtoken: \"\",\n      email: \"\",\n      currAlbum: DEFAULT_ALBUM,\n      photos: [],\n      searchStatus: \"\",\n      currentTab: Tab.HOME,\n      pageName: TabNames[2],\n\t  recipeToEdit: \"\",\n\t  recipeName: \"\",\n\t  editModal: null,\n\t  forceKey: 0,\n\t  viewRecipeKey: 0,\n\t  albumsList: [],\n\t  googleUser: null,\n\t  viewRecipeName: \"\",\n\t  viewRecipeData: \"\"\n    };\n\n\tthis.menuRef = React.createRef();\n\tthis.editRef = React.createRef();\n  }\n\n  // Gets executed even if user refreshes the page because\n  // the onSuccess callback in NavBar updates the googleUser\n  componentDidUpdate() {\n\tconst googleUser = this.state.googleUser;\n\n\tthis.interval = setInterval(() => {\n\t  if (googleUser !== null) {\n\t    googleUser.reloadAuthResponse().then(resolve => {\n\t\t  this.setState({\n\t\t    idtoken: resolve.id_token\n\t\t  });\n\t\t}, error => {\n\t\t  console.log(error);\t\n\t\t});\n\t  }\n\t}, REFRESH_TIME);\n  }\n\n  authCallBack = (data) => {\n    this.setState({\n      idtoken: data.idtoken,\n      email: data.email,\n\t  googleUser: data.googleUser,\n      searchStatus: \"\",\n    });\n  };\n\n  removeAuthCallBack = () => {\n    this.setState({\n      idtoken: \"\",\n      email: \"\",\n      searchStatus: \"\",\n    });\n  };\n\n  setAlbumCallBack = async (album) => {\n    await axios\n      .get(\"/albumPhotos\", {\n        params: { idtoken: this.state.idtoken, albumName: album },\n      })\n      .then(\n        (resolve) => {\n          if (\n            resolve.data[0] &&\n            resolve.data[0].album &&\n            resolve.data[0].album.length !== 0\n          ) {\n            this.setState({\n              currAlbum: album,\n              photos: resolve.data[0].album,\n              searchStatus: \"\",\n            });\n          } else {\n            this.setState({\n              currAlbum: DEFAULT_ALBUM,\n              photos: [],\n              searchStatus: SEARCH_FLAGS[1],\n            });\n          }\n        },\n        (error) => {\n          if (error.response.status === 400) {\n            this.setState({\n              searchStatus: SEARCH_FLAGS[0],\n            });\n          } else if (error.response.status === 404) {\n            this.setState({\n              searchStatus: SEARCH_FLAGS[2],\n            });\n          }\n\n          //console.log(\"Album doesn't exist!\");\n        }\n      );\n\n\tawait this.setState({\n\t  currentTab: Tab.PHOTOS\n\t});\n\n\t// Manually update the active window\n\tthis.menuRef.current.photosRef.current.click();\n  };\n\n  clearCallback = () => {\n    this.setState({\n      searchStatus: \"\",\n    });\n  };\n\n  handleHome = () => {\n    this.setState({\n      currentTab: Tab.HOME,\n      pageName: TabNames[2],\n    });\n  };\n\n  menuBarCallBack = (tab) => {\n    let name = null;\n\n    if (tab === TabNames[0]) {\n      tab = Tab.PHOTOS;\n      name = 0;\n    } else if (tab === TabNames[1]) {\n      tab = Tab.COOKING;\n      name = 1;\n    } else if (tab === TabNames[2]) {\n      tab = Tab.HOME;\n\t  name = 2;\n\t}\n\n    this.setState({\n      currentTab: tab,\n      pageName: TabNames[name],\n    });\n  };\n\n  triggerEdit = async (e, recipeData, recipeName, recipeTag) => {\n\tconst options = {\n \t  onCloseStart: () => {\n\t\tif (this.editRef.current.state.modal !== null) {\n\t\t  this.editRef.current.state.modal.close();\t\n\t\t}\n\t  },\n      onOpenEnd: () => {\n\t\tconst elem = document.getElementById(\"edit-recipe\");\n\t\telem.removeAttribute(\"tabindex\");\n\t  }\n\t};\n\tconst elem = document.getElementById(\"edit-recipe\");\n    const modal = M.Modal.init(elem, options);\n\n\tawait this.setState({\n\t  recipeToEdit: recipeData,\n\t  recipeName: recipeName,\n\t  recipeTag: recipeTag,\n\t  editModal: modal\n\t});\n\n\tawait modal.open();\n  };\n\n  recipeEditCallback = async() => {\n\tconst state = this.state;\n\n\tawait axios\n      .get(\"/getAllRecipes\", { params: { idtoken: this.props.idtoken } })\n      .then(\n        async (response) => {\n\t\t  await state.editModal.close();\n          await this.setState({\n\t\t    forceKey: this.state.forceKey + 1\n          });\n        },\n        (error) => {}\n      );\n\n\t//this.state.editModal.close();\n  };\n\n  triggerBulk = async (albumsList) => {\n\tconst elem = document.getElementById(\"bulk\");\n    const modal = M.Modal.init(elem);\n\n\tawait this.setState({\n\t  albumsList: albumsList\n\t});\n\n\tmodal.open();\n  };\n\n  triggerViewRecipe = async (name, data) => {\n\tconst modalOptions = {\n\t  onCloseStart: () => {\n\t    document.body.style.position = \"initial\";\n\t    document.documentElement.style.position = \"initial\";\n\t    document.documentElement.style.overflow = \"initial\";\n\t  }\n\t};\n\n\tconst elem = document.getElementById(\"view-recipe-modal\");\n\tconst modal = M.Modal.init(elem, modalOptions);\n\n\tawait this.setState({\n\t  viewRecipeName: name,\n\t  viewRecipeData: data\n\t});\n\n\tdocument.body.style.position = \"relative\";\n\tdocument.documentElement.style.position = \"relative\";\n\tdocument.documentElement.style.overflow = \"hidden\";\n\n\tmodal.open();\n  }\n\n  render() {\n    return (\n      <div className=\"App\" style={{ background: \"#FFFAFA\" }}>\n        <NavBar\n          getAuth={this.authCallBack}\n          removeAuthCallBack={this.removeAuthCallBack}\n\t\t  setAlbumCallBack={this.setAlbumCallBack}\n\t\t  album={this.state.currAlbum}\n\t\t  triggerBulk={this.triggerBulk}\n        />\n        <MenuBar menuBarCallBack={this.menuBarCallBack} ref={this.menuRef}/>\n        {this.state.currentTab === Tab.PHOTOS ? (\n\t\t  <div>\n            <div className=\"row\">\n\t\t    <div className=\"col m1 l3\"></div>\n\t\t    <div className=\"col s12 l6 m10\">\n            <PhotoCarousel\n              setAlbum={this.setAlbumCallBack}\n              idtoken={this.state.idtoken}\n              email={this.state.email}\n              album={this.state.currAlbum}\n              photos={this.state.photos}\n\t\t      setAlbumCallBack={this.setAlbumCallBack}\n            />\n\t\t\t</div>\n\t\t    <div className=\"col m1 l3\">\n\t\t\t</div>\n\t\t\t</div>\n          </div>\n        ) : null}\n        {this.state.currentTab === Tab.HOME ? <Home /> : null}\n        {this.state.currentTab === Tab.COOKING ? <Cooking idtoken={this.state.idtoken} triggerEdit={this.triggerEdit} key={this.state.forceKey} triggerViewRecipe={this.triggerViewRecipe} /> : null}\n\t\t<EditRecipe \n\t\t  ref={this.editRef}\n\t\t  recipeToEdit={this.state.recipeToEdit} \n\t\t  idtoken={this.state.idtoken} \n\t\t  recipeName={this.state.recipeName} \n\t\t  recipeEditCallback={this.recipeEditCallback}\n\t\t  recipeTag={this.state.recipeTag}\n\t\t/>\n\t\t<AddPhotosBulk albumsList={this.state.albumsList} idtoken={this.state.idtoken} setAlbumCallBack={this.setAlbumCallBack} />\n\t\t<ViewRecipe recipeName={this.state.viewRecipeName} recipeData={this.state.viewRecipeData} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/3.86e83c97.jpg\";","module.exports = __webpack_public_path__ + \"static/media/food.077f9904.jpg\";","module.exports = __webpack_public_path__ + \"static/media/1.8d68a31f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.6e2d9591.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.51c24f85.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.7baa8c77.jpg\";","module.exports = __webpack_public_path__ + \"static/media/default.3ab90553.png\";","module.exports = __webpack_public_path__ + \"static/media/office.f642206b.jpg\";"],"sourceRoot":""}