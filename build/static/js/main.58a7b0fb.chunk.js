(this.webpackJsonpstiny=this.webpackJsonpstiny||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),s=a(16),i=a.n(s),c=(a(32),a(11)),r=a.n(c),o=a(14),m=a(4),d=a(5),u=a(7),p=a(6),h=(a(54),a(3)),f=a.n(h),b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(t){e.props.menuBarCallBack(t.target.text)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector(".tabs");f.a.Tabs.init(e)}},{key:"render",value:function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12"},n.a.createElement("ul",{className:"tabs"},n.a.createElement("li",{className:"tab col s4"},n.a.createElement("a",{onClick:this.handleClick,href:"#cooking"},"Cooking")),n.a.createElement("li",{className:"tab col s4"},n.a.createElement("a",{className:"active",onClick:this.handleClick,href:"#home"},"Home")),n.a.createElement("li",{className:"tab col s4"},n.a.createElement("a",{onClick:this.handleClick,href:"#photos"},"Photos")))))}}]),a}(n.a.Component),v=a(23),g=a.n(v),E=a(27),k=a.n(E),y=a(17),N=a.n(y),C=a(28),R=a.n(C),w=a(29),A=a.n(w),S=a(8),j=a.n(S),L={coverTrigger:!1},O=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).handleDelete=function(){if(void 0!==l.props.album&&l.props.album!==ie){var e={albumName:l.props.album,link:l.state.picture,idtoken:l.props.token};j.a.post("/deletePhoto",e).then((function(e){l.props.deleteCallBack()}),(function(e){console.log(e)}))}},l.state={picture:"",caption:"",date:""},l.myRef=n.a.createRef(),l}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.myRef.current.scrollTo(0,0);var l=document.querySelectorAll(".delete-pic");f.a.Dropdown.init(l,L)}},{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".delete-pic");f.a.Dropdown.init(e,L)}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.myRef,id:"modal1",className:"modal",style:{width:"75%",maxHeight:"100%",backgroundColor:"rgba(255, 255, 255, 0.90)",position:"absolute"}},n.a.createElement("div",{className:"modal-content",style:{}},n.a.createElement("div",{className:"row"},this.props.album!==ie?n.a.createElement("div",null,n.a.createElement("a",{href:"#!",className:"left waves-effect btn"},"Edit"),n.a.createElement("a",{className:"dropdown-trigger btn left red delete-pic",href:"#!","data-target":"dropdown1"},"Delete"),n.a.createElement("ul",{id:"dropdown1",className:"dropdown-content"},n.a.createElement("li",null,n.a.createElement("a",{href:"#!",onClick:this.handleDelete},"Confirm")))):null,n.a.createElement("a",{href:"#!",className:"right modal-close waves-effect waves-green btn"},"Exit")),n.a.createElement("h4",null,this.state.caption),n.a.createElement("p",null,this.state.date),n.a.createElement("img",{alt:"preview",style:{width:"100%",height:"100%"},src:this.state.picture})))}}]),a}(n.a.Component),x={duration:200,dist:-50,numVisible:5},D={opacity:0},B=["Victorian Belle","Peacock Lane","Zoolights","Fire on the Mountain","Steven's House"],M=["2018","2018","2018","2019","2020"],P=function(e,t,a,l,n){e.push({picture:t,alt:a,caption:l,date:n})},T=[];P(T,A.a,A.a,B[4],M[4]),P(T,g.a,g.a,B[0],M[0]),P(T,k.a,k.a,B[1],M[1]),P(T,N.a,N.a,B[2],M[2]),P(T,R.a,R.a,B[3],M[3]);var I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).handleClick=function(e){var t=e.target.attributes.alt.value,a=e.target.attributes[0].value,n=e.target.attributes[1].value;l.viewRef.current.setState({picture:t,date:n,caption:a}),l.state.modal.open()},l.deleteCallBack=function(){l.state.modal.close(),l.props.setAlbum(l.props.album)},l.state={picture:g.a,caption:"",date:"",modal:null,defPhotos:T},l.viewRef=n.a.createRef(),l}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props!==e&&0!==this.props.photos.length){var t=document.querySelector(".carousel"),a=this.props.photos.length;x.numVisible=a%2===0?a-1:a,f.a.Carousel.init(t,x)}if(0===this.props.photos.length){var l=document.querySelector(".carousel");x.numVisible=5,f.a.Carousel.init(l,x)}}},{key:"componentDidMount",value:function(){var e=document.querySelector(".carousel"),t=f.a.Carousel.init(e,x),a=document.getElementById("modal1"),l=f.a.Modal.init(a,D);this.setState({modal:l,carousel:t})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{height:"100%"}},n.a.createElement(O,{current:this.state.picture,caption:this.state.caption,date:this.state.date,album:this.props.album,deleteCallBack:this.deleteCallBack,token:this.props.idtoken,ref:this.viewRef}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12"},n.a.createElement("h2",{style:{marginTop:"5%",marginBottom:"5%"}},this.props.album===ie||void 0===this.props.album?"Album 1":this.props.album+" Album")),n.a.createElement("div",{className:"col s12"},n.a.createElement("div",{className:"carousel",style:{height:"600px"}},this.props.photos.map((function(t){return n.a.createElement("a",{className:"carousel-item",href:"#!"},n.a.createElement("img",{"data-caption":t.caption,"data-date":t.date,alt:t.link,src:t.link,onClick:e.handleClick}))})),this.props.album===ie?T.map((function(t){return n.a.createElement("a",{className:"carousel-item",href:"#!",key:t.picture},n.a.createElement("img",{"data-caption":t.caption,"data-date":t.date,alt:t.alt,src:t.picture,onClick:e.handleClick}))})):null))))}}]),a}(n.a.Component),_=a(21),q=a.n(_),F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).handleSubmit=function(){var e=l.createAlbumRef.current,t={idtoken:l.props.token,email:l.props.email,albumName:l.createAlbumRef.current.value};e.classList.contains("valid")&&e.classList.remove("valid"),e.classList.contains("invalid")&&e.classList.remove("invalid");var a=l.props.updateList;j.a.post("/createAlbum",t).then((function(t){e.classList.toggle("valid"),a(),console.log(t)})).catch((function(t){e.classList.toggle("invalid"),console.log(t)}))},l.handleKeyDown=function(e){"Enter"!==e.key?(l.createAlbumRef.current.classList.remove("valid"),l.createAlbumRef.current.classList.remove("invalid")):l.handleSubmit()},l.myRef=n.a.createRef(),l.createAlbumRef=n.a.createRef(),l}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.myRef.current.scrollTo(0,0)}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.myRef,id:"modal2",className:"modal",style:{marginTop:"30%",paddingTop:"20%",backgroundColor:"rgb(255, 255, 255, 0.95"}},n.a.createElement("div",{className:"modal-content",style:{width:"100%"}},n.a.createElement("a",{href:"#!",className:"modal-close waves-effect",style:{display:"inline-block"}},"Close"),n.a.createElement("h4",null,"Add Album"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{ref:this.createAlbumRef,id:"albumName",type:"text",placeholder:"e.g. Memories",onKeyDown:this.handleKeyDown}),n.a.createElement("label",{htmlFor:"albumName"},"Album Name"),n.a.createElement("span",{className:"helper-text","data-error":"Album exists / is invalid.","data-success":"Album created!"}))),n.a.createElement("a",{href:"#!",onClick:this.handleSubmit,className:"waves-effect waves-light btn"},n.a.createElement("i",{className:"material-icons left"},"cloud"),"Submit")))}}]),a}(n.a.Component),K={"Content-Type":"multipart/form-data"},W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).validatePhotoExtension=function(e){return e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".gif")||e.endsWith(".tif")||e.endsWith(".tiff")},l.handleSubmit=function(){l.setState({message:""});var e=new FormData;e.append("idtoken",l.props.token),e.append("email",l.props.email),e.append("albumName",l.state.selectedAlbum),e.append("caption",l.captionRef.current.value),e.append("date",l.dateRef.current.value),e.append("image",l.photoRef.current.files[0]),""!==l.state.selectedAlbum?0!==l.photoRef.current.files.length&&l.validatePhotoExtension(l.photoRef.current.files[0].name)?j.a.post("/addPhoto",e,{headers:K}).then((function(e){l.setState({message:"Added photo to "+l.state.selectedAlbum+" album!"}),l.props.setAlbumCallBack(l.props.album)}),(function(e){403===e.response.status?l.setState({message:"Could not add photo! Album does not exist."}):400===e.response.status?l.setState({message:"Could not add photo! Try relogging into your account."}):404===e.response.status&&l.setState({message:"Please connect to the internet to use this feature."})})):l.setState({message:"Valid photo is required."}):l.setState({message:"Album name is required."})},l.handleSelect=function(e){l.setState({selectedAlbum:e.target.value,message:""})},l.handleClick=function(){l.setState({message:""})},l.myRef=n.a.createRef(),l.createAlbumRef=n.a.createRef(),l.photoRef=n.a.createRef(),l.dateRef=n.a.createRef(),l.captionRef=n.a.createRef(),l.testRef=n.a.createRef(),l.state={selectedAlbum:"",message:""},l}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(e!==this.props.albumList){var l=document.querySelectorAll("select");f.a.FormSelect.init(l)}}},{key:"componentDidMount",value:function(){var e=document.querySelectorAll("select");f.a.FormSelect.init(e)}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.myRef,id:"modal3",className:"modal",style:{marginTop:"30%",paddingTop:"0%",backgroundColor:"rgb(255, 255, 255, 0.95"}},n.a.createElement("div",{className:"modal-content",style:{width:"100%"}},n.a.createElement("a",{href:"#!",className:"modal-close waves-effect",style:{display:"inline-block"}},"Close"),n.a.createElement("h4",null,"Add Photos"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("select",{defaultValue:this.state.selectedAlbum,onChange:this.handleSelect},n.a.createElement("option",{value:"",disabled:!0},"Choose Album"),this.props.albumList.map((function(e){return n.a.createElement("option",{value:e},e)})))),n.a.createElement("div",{className:"col s12"},n.a.createElement("form",{action:"#"},n.a.createElement("div",{className:"file-field input-field"},n.a.createElement("div",{className:"btn"},n.a.createElement("span",null,"File"),n.a.createElement("input",{type:"file",onClick:this.handleClick,ref:this.photoRef})),n.a.createElement("div",{className:"file-path-wrapper"},n.a.createElement("input",{className:"file-path validate",type:"text"}))))),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{ref:this.dateRef,onClick:this.handleClick,id:"date",type:"text",placeholder:"e.g. 12/12/2012"}),n.a.createElement("label",{htmlFor:"date"},"Date")),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{ref:this.captionRef,onClick:this.handleClick,id:"desc",type:"text",placeholder:"e.g. Walk in snow."}),n.a.createElement("label",{htmlFor:"desc"},"Caption"))),n.a.createElement("a",{href:"#!",ref:this.createAlbumRef,onClick:this.handleSubmit,className:"waves-effect waves-light btn"},n.a.createElement("i",{className:"material-icons left"},"cloud"),"Submit"),n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"helper-text"},this.state.message))))}}]),a}(n.a.Component),z=a(30),H=a.n(z),U=a(46),V=a.n(U),G={opacity:0},J={coverTrigger:!1,closeOnClick:!1},Z=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).closeModals=function(){l.state.addAlbumModal.close(),l.state.addPhotoModal.close()},l.handleClickAddAlbum=function(){l.state.addAlbumModal.open()},l.handleClickAddPhoto=function(){l.state.addPhotoModal.open(),j.a.get("/albums",{params:{idtoken:l.state.token,email:l.state.email}}).then((function(e){l.setState({albums:e.data})}))},l.handleClickDisplayAlbum=function(e,t){l.props.setAlbumCallBack(t)},l.onSuccess=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getBasicProfile(),n=a.getImageUrl(),s=a.getName(),i=a.getEmail(),l.setState({isLoggedIn:!l.state.isLoggedIn,profilePicture:n,name:s,email:i,token:t.getAuthResponse().id_token}),l.createAlbumRef.current.classList.remove("disabled"),l.deleteAlbumRef.current.classList.remove("disabled"),l.displayAlbumRef.current.classList.remove("disabled"),l.addPhotosRef.current.classList.remove("disabled"),l.props.getAuth({idtoken:l.state.token,email:l.state.email}),e.next=12,j.a.get("/albums",{params:{idtoken:l.state.token,email:l.state.email}}).then((function(e){l.setState({albumsForDisplay:e.data})}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.onFailure=function(e){console.log(e)},l.logout=function(){l.setState({isLoggedIn:!l.state.isLoggedIn,profilePicture:H.a,name:"",email:""}),l.createAlbumRef.current.classList.add("disabled"),l.deleteAlbumRef.current.classList.add("disabled"),l.displayAlbumRef.current.classList.add("disabled"),l.addPhotosRef.current.classList.add("disabled"),l.props.removeAuthCallBack()},l.updateListCallBack=function(){j.a.get("/albums",{params:{idtoken:l.state.token,email:l.state.email}}).then((function(e){l.setState({albumsForDisplay:e.data})}))},l.state={isLoggedIn:!1,profilePicture:H.a,name:"",email:"",addAlbumModal:null,addPhotoModal:null,token:"",albums:[],albumsForDisplay:[]},l.createAlbumRef=n.a.createRef(),l.deleteAlbumRef=n.a.createRef(),l.displayAlbumRef=n.a.createRef(),l.addPhotosRef=n.a.createRef(),l}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.state.isLoggedIn||(this.displayAlbumRef.current.classList.add("disabled"),this.deleteAlbumRef.current.classList.add("disabled"),this.createAlbumRef.current.classList.add("disabled"),this.addPhotosRef.current.classList.add("disabled"));var e=document.getElementById("modal2"),t=f.a.Modal.init(e,G),a=document.getElementById("modal3"),l=f.a.Modal.init(a,G),n=document.getElementById("display");f.a.Dropdown.init(n,J),this.setState({addAlbumModal:t,addPhotoModal:l});var s={onCloseStart:this.closeModals},i=document.querySelectorAll(".sidenav");f.a.Sidenav.init(i,s)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("nav",{className:"nav-extended"},n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement("a",{href:"#!",className:"logo paris",onClick:this.handleHome,style:{cursor:"pointer"}},"Stiny"),n.a.createElement("a",{href:"#!","data-target":"slide-out",className:"sidenav-trigger left waves-effect"},n.a.createElement("i",{style:{fontSize:"300%",color:"black"},className:"material-icons"},"menu")))),n.a.createElement("ul",{id:"slide-out",className:"sidenav"},n.a.createElement("li",null,n.a.createElement("div",{className:"user-view"},n.a.createElement("div",{className:"background"},n.a.createElement("img",{alt:"office-background",src:V.a})),n.a.createElement("a",{href:"#user"},n.a.createElement("img",{alt:"profile",className:"circle",src:this.state.profilePicture})),n.a.createElement("a",{href:"#name"},n.a.createElement("span",{className:"white-text name"},this.state.name)),n.a.createElement("a",{href:"#email"},n.a.createElement("span",{className:"white-text email"},this.state.email)))),n.a.createElement("li",null,n.a.createElement("a",{ref:this.createAlbumRef,className:"waves-effect",href:"#!",disabled:!this.state.isLoggedIn,onClick:this.handleClickAddAlbum},n.a.createElement("i",{className:"material-icons"},"book"),"Create Album"),n.a.createElement(F,{token:this.state.token,email:this.state.email,updateList:this.updateListCallBack})),n.a.createElement("li",null,n.a.createElement("a",{ref:this.deleteAlbumRef,className:"waves-effect",href:"#!"},n.a.createElement("i",{className:"material-icons"},"delete"),"Delete Album")),n.a.createElement("li",null,n.a.createElement("a",{ref:this.displayAlbumRef,className:"dropdown-trigger waves-effect","data-target":"dropdownDisplay",id:"display",href:"#!",disabled:!this.state.isLoggedIn},n.a.createElement("i",{className:"material-icons"},"tv"),"Display Album"),n.a.createElement("ul",{id:"dropdownDisplay",className:"dropdown-content"},n.a.createElement("li",null,n.a.createElement("a",{href:"#!",className:"waves-effect",onClick:function(t){return e.handleClickDisplayAlbum(t,ie)}},n.a.createElement("i",{className:"material-icons"},"filter_vintage"),"Default")),this.state.albumsForDisplay.map((function(t){return n.a.createElement("li",null,n.a.createElement("a",{href:"#!",className:"waves-effect",onClick:function(a){return e.handleClickDisplayAlbum(a,t)}},n.a.createElement("i",{className:"material-icons"},"filter_vintage"),t))})))),n.a.createElement("li",null,n.a.createElement("a",{ref:this.addPhotosRef,className:"waves-effect",href:"#!",disabled:!this.state.isLoggedIn,onClick:this.handleClickAddPhoto},n.a.createElement("i",{className:"material-icons"},"insert_photo"),"Add Photos"),n.a.createElement(W,{token:this.state.token,email:this.state.email,albumList:this.state.albums,setAlbumCallBack:this.props.setAlbumCallBack,album:this.props.album})),n.a.createElement("li",null,n.a.createElement("div",{className:"divider"})),n.a.createElement("li",null,n.a.createElement(q.a,{className:"google-button",clientId:"844946981534-vkdij9ke3polifnu5qsveogtlp2etuj9.apps.googleusercontent.com",buttonText:"Login",onSuccess:this.onSuccess,onFailure:this.onFailure,cookiePolicy:"single_host_origin",disabled:this.state.isLoggedIn}),n.a.createElement(_.GoogleLogout,{className:"google-button",clientId:"844946981534-vkdij9ke3polifnu5qsveogtlp2etuj9.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:this.logout,disabled:!this.state.isLoggedIn})),n.a.createElement("li",null,n.a.createElement("a",{href:"#!",className:"subheader"},"Built With Materialize CSS"))))}}]),a}(n.a.Component),$=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s1 m1 l4"}),n.a.createElement("div",{className:"col s10 m10 l4"},n.a.createElement("img",{style:{width:"100%"},alt:"preview",className:"preview",src:N.a})),n.a.createElement("div",{className:"col s1 m1 l4"})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s1 m2"}),n.a.createElement("div",{className:"col s10 m8"},n.a.createElement("p",{className:"bio"},"Hi!"),n.a.createElement("p",{className:"bio"},"My name is Steven, and I developed this website for my girlfriend, Ciny, and me to use for several things. We thought it'd be a great idea to save memorable photos and cooking recipes somewhere we can easily access. This website's source code can be found below: "),n.a.createElement("a",{href:"https://github.com/sensui7/stiny-prod"},"GitHub Repository")),n.a.createElement("div",{className:"col s1 m2"})))}}]),a}(n.a.Component),Q=a(22),X=sessionStorage.getItem("content"),Y={coverTrigger:!1},ee=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).handleEditorChange=function(e){var t;t=e.target.getContent(),sessionStorage.setItem("content",t),l.setState({content:e.target.getContent()})},l.handleSubmit=function(){var e=l.recipeNameRef.current.value;if(""===e)return l.recipeNameRef.current.classList.add("invalid"),void l.setState({addRecipeMessage:"Please enter a recipe name."});l.recipeNameRef.current.classList.remove("valid"),l.recipeNameRef.current.classList.remove("invalid");var t={recipeName:e,data:l.state.content,idtoken:l.props.idtoken};j.a.post("/addRecipe",t).then((function(e){l.recipeNameRef.current.classList.add("valid"),j.a.get("/getAllRecipes",{params:{idtoken:l.props.idtoken}}).then((function(e){l.setState({recipes:e})}),(function(e){}))}),(function(e){l.recipeNameRef.current.classList.add("invalid"),404===e.response.status?l.setState({addRecipeMessage:"Please connect to the internet to use this feature."}):400===e.response.status?l.setState({addRecipeMessage:"Account login status expired. Please logout and login."}):500===e.response.status?l.setState({addRecipeMessage:"Recipe name already exists."}):403===e.response.status&&l.setState({addRecipeMessage:"Only admins are authorized to add a recipe."})}))},l.handleKeydown=function(e){l.recipeNameRef.current.classList.remove("valid"),l.recipeNameRef.current.classList.remove("invalid")},l.handleDelete=function(e,t){var a={recipeName:t,idtoken:l.props.idtoken};j.a.post("/deleteRecipe",a).then((function(e){j.a.get("/getAllRecipes",{params:{idtoken:l.props.idtoken}}).then((function(e){l.setState({recipes:e})}),(function(e){}))}),(function(e){console.log(e)}))},l.recipeNameRef=n.a.createRef(),l.editorRef=n.a.createRef(),l.submitRef=n.a.createRef(),l.state={addRecipeMessage:"",recipes:[],content:""},l}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){""!==this.props.idtoken?(this.submitRef.current.classList.remove("disabled"),document.querySelectorAll(".recipes").forEach((function(e){return e.classList.remove("disabled")})),document.querySelectorAll(".edit-recipes").forEach((function(e){return e.classList.remove("disabled")}))):(this.submitRef.current.classList.add("disabled"),document.querySelectorAll(".recipes").forEach((function(e){return e.classList.add("disabled")})),document.querySelectorAll(".edit-recipes").forEach((function(e){return e.classList.add("disabled")})));var l=document.querySelectorAll(".collapsible");f.a.Collapsible.init(l);var n=document.querySelectorAll(".recipes");f.a.Dropdown.init(n,Y)}},{key:"componentDidMount",value:function(){var e=this;this.setState({content:X});var t=document.querySelectorAll(".collapsible");f.a.Collapsible.init(t);var a=document.querySelectorAll(".recipes");f.a.Dropdown.init(a,Y);var l=""!==this.props.idtoken;j.a.get("/getAllRecipes",{params:{idtoken:this.props.idtoken}}).then((function(t){e.setState({recipes:t}),l||(document.querySelectorAll(".recipes").forEach((function(e){return e.classList.add("disabled")})),document.querySelectorAll(".edit-recipes").forEach((function(e){return e.classList.add("disabled")})))}),(function(e){}))}},{key:"render",value:function(){var e=this,t=[];return 0!==this.state.recipes.length&&this.state.recipes.data.forEach((function(e){t.push(e)})),n.a.createElement("div",{className:"row"},n.a.createElement("ul",{className:"collapsible popout"},n.a.createElement("li",null,n.a.createElement("div",{className:"collapsible-header"},n.a.createElement("i",{className:"material-icons"},"playlist_add"),"Add Recipe"),n.a.createElement("div",{className:"collapsible-body"},n.a.createElement(Q.a,{ref:this.editorRef,initialValue:X||null,apiKey:"p234ptga2jzgn5mia4hnruilh2zzuhfchjd7ja98rwu5p6g4",init:{contextmenu:!1,browser_spellcheck:!0,height:500,selector:"textarea",plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"undo redo | fontselect | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | help",paste_enable_default_filters:!1,paste_word_valid_elements:"b,strong,i,em,h1,h2,h3,h4,h5"},onChange:this.handleEditorChange}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s3"}),n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{ref:this.recipeNameRef,id:"recipename",type:"text",onKeyDown:this.handleKeydown}),n.a.createElement("label",{htmlFor:"recipename"},"Recipe Name"),n.a.createElement("span",{className:"helper-text","data-error":this.state.addRecipeMessage,"data-success":"Recipe created!"})),n.a.createElement("div",{className:"col s3"})),n.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:this.handleSubmit,ref:this.submitRef},"Submit",n.a.createElement("i",{className:"material-icons right"},"send")))),t.map((function(t){return n.a.createElement("li",null,n.a.createElement("div",{className:"collapsible-header"},n.a.createElement("i",{className:"material-icons"},"menu_book"),t.name),n.a.createElement("div",{className:"collapsible-body instructions"},n.a.createElement("a",{className:"dropdown-trigger btn right red recipes",href:"#!","data-target":t.name},"Delete Recipe"),n.a.createElement("a",{className:"btn right waves-effect edit-recipes",href:"#!","data-target":t.name,onClick:function(a){return e.props.triggerEdit(a,t.data,t.name)}},"Edit Recipe"),n.a.createElement("ul",{id:t.name,className:"dropdown-content"},n.a.createElement("li",null,n.a.createElement("a",{href:"#!",onClick:function(a){return e.handleDelete(a,t.name)}},"Confirm"))),n.a.createElement("div",{className:"recipe-display",dangerouslySetInnerHTML:{__html:t.data}})))}))))}}]),a}(n.a.Component),te=a(15),ae=a(26),le=a.n(ae),ne=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).onDrop=function(e){l.setState({pictures:[].concat(e)})},l.state={pictures:[]},l}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(le.a,{withIcon:!0,buttonText:"Choose Images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png"],maxFileSize:5242880}),0===this.state.pictures.length?null:this.state.pictures.map((function(e){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l6"},n.a.createElement("img",{style:{maxWidth:"25%",maxHeight:"25%"},src:URL.createObjectURL(e)})),n.a.createElement("div",{className:"col l6"},n.a.createElement(te.TextInput,null)))})))}}]),a}(n.a.Component),se=(n.a.Component,function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).handleSubmit=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idtoken:l.props.idtoken,recipeName:l.props.recipeName,data:l.editorRef.current.editor.getContent()},e.next=3,j.a.post("/updateRecipe",t).then((function(e){l.props.recipeEditCallback()}),(function(e){console.log("Unsuccessful update")}));case 3:case"end":return e.stop()}}),e)}))),l.editorRef=n.a.createRef(),l}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.recipeToEdit;return n.a.createElement("div",{id:"edit-recipe",className:"modal arg"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("h4",null,"Edit Recipe"),n.a.createElement(Q.a,{key:e,ref:this.editorRef,value:e,apiKey:"p234ptga2jzgn5mia4hnruilh2zzuhfchjd7ja98rwu5p6g4",init:{contextmenu:!1,browser_spellcheck:!0,height:500,selector:"textarea",plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"undo redo | fontselect | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | help",paste_enable_default_filters:!1,paste_word_valid_elements:"b,strong,i,em,h1,h2,h3,h4,h5"}}),n.a.createElement("br",null),n.a.createElement(te.Button,{waves:"light",onClick:this.handleSubmit},"Submit Changes")),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Exit")))}}]),a}(n.a.Component)),ie=(a(121),a(122),"default"),ce=["Please login to use this feature.","No album was found with any photos.","Make sure you're connected to the internet."],re=1,oe=2,me=3,de=["Photos","Cooking","Home"],ue=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(m.a)(this,a),(l=t.call(this,e)).authCallBack=function(e){l.setState({idtoken:e.idtoken,email:e.email,searchStatus:""})},l.removeAuthCallBack=function(){l.setState({idtoken:"",email:"",searchStatus:""})},l.setAlbumCallBack=function(e){j.a.get("/albumPhotos",{params:{idtoken:l.state.idtoken,albumName:e}}).then((function(t){t.data[0]&&t.data[0].album&&0!==t.data[0].album.length?l.setState({currAlbum:e,photos:t.data[0].album,searchStatus:""}):l.setState({currAlbum:ie,photos:[],searchStatus:ce[1]})}),(function(e){400===e.response.status?l.setState({searchStatus:ce[0]}):404===e.response.status&&l.setState({searchStatus:ce[2]})}))},l.clearCallback=function(){l.setState({searchStatus:""})},l.handleHome=function(){l.setState({currentTab:re,pageName:de[2]})},l.menuBarCallBack=function(e){var t=null;e===de[0]?(e=oe,t=0):e===de[1]?(e=me,t=1):e===de[2]&&(e=re,t=2),l.setState({currentTab:e,pageName:de[t]})},l.triggerEdit=function(){var e=Object(o.a)(r.a.mark((function e(t,a,n){var s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=document.getElementById("edit-recipe"),i=f.a.Modal.init(s),e.next=4,l.setState({recipeToEdit:a,recipeName:n,editModal:i});case 4:i.open();case 5:case"end":return e.stop()}}),e)})));return function(t,a,l){return e.apply(this,arguments)}}(),l.recipeEditCallback=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/getAllRecipes",{params:{idtoken:l.props.idtoken}}).then((function(e){l.setState({forceKey:l.state.forceKey+1})}),(function(e){}));case 2:l.state.editModal.close();case 3:case"end":return e.stop()}}),e)}))),l.state={idtoken:"",email:"",currAlbum:ie,photos:[],searchStatus:"",currentTab:re,pageName:de[2],recipeToEdit:"",recipeName:"",editModal:null,forceKey:0},l}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App",style:{background:"#FFFAFA"}},n.a.createElement(Z,{getAuth:this.authCallBack,removeAuthCallBack:this.removeAuthCallBack,setAlbumCallBack:this.setAlbumCallBack,album:this.state.currAlbum}),n.a.createElement(b,{menuBarCallBack:this.menuBarCallBack}),this.state.currentTab===oe?n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col m1 l3"}),n.a.createElement("div",{className:"col s12 l6 m10"},n.a.createElement(I,{setAlbum:this.setAlbumCallBack,idtoken:this.state.idtoken,email:this.state.email,album:this.state.currAlbum,photos:this.state.photos})),n.a.createElement("div",{className:"col m1 l3"}))):null,this.state.currentTab===re?n.a.createElement($,null):null,this.state.currentTab===me?n.a.createElement(ee,{idtoken:this.state.idtoken,triggerEdit:this.triggerEdit,key:this.state.forceKey}):null,n.a.createElement(se,{recipeToEdit:this.state.recipeToEdit,idtoken:this.state.idtoken,recipeName:this.state.recipeName,recipeEditCallback:this.recipeEditCallback}))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,a){e.exports=a.p+"static/media/3.86e83c97.jpg"},23:function(e,t,a){e.exports=a.p+"static/media/1.8d68a31f.jpg"},27:function(e,t,a){e.exports=a.p+"static/media/2.6e2d9591.jpg"},28:function(e,t,a){e.exports=a.p+"static/media/4.51c24f85.jpg"},29:function(e,t,a){e.exports=a.p+"static/media/5.7baa8c77.jpg"},30:function(e,t,a){e.exports=a.p+"static/media/default.3ab90553.png"},32:function(e,t,a){},46:function(e,t,a){e.exports=a.p+"static/media/office.f642206b.jpg"},48:function(e,t,a){e.exports=a(123)},54:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.58a7b0fb.chunk.js.map